{"version":3,"sources":["fbase.js","router/Auth.js","component/admin/Header.js","component/admin/CreateUser.js","component/admin/RegiMatch.js","component/admin/UserList.js","component/admin/MatchList.js","router/AdminMain.js","component/client/Post.js","component/client/RankingContent.js","component/client/RecentGame.js","component/client/UserDetailChart.js","component/client/UserDetailGame.js","component/client/UserDetailWinningRate.js","component/client/UserDetailRankingRate.js","component/client/UserDetail.js","component/client/UserInfo.js","router/ClientMain.js","component/Router.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseInstance","authService","auth","dbService","firestore","storageService","storage","Auth","useState","email","setEmail","password","setPassword","error","setError","history","useHistory","onSocialClick","event","a","target","name","provider","GoogleAuthProvider","signInWithPopup","onChange","value","onSubmit","preventDefault","signOut","signInWithEmailAndPassword","message","push","className","icon","faGoogle","color","size","style","marginBottom","type","placeholder","required","onClick","Header","class","CreateUser","studentid","department","start_rating","rating","status","inputs","setInputs","attachment","setAttachment","handleChange","e","userMakeSubmit","alert","attachmentUrl","attachmentRef","ref","child","putString","response","getDownloadURL","now","Date","year","getFullYear","month","getMonth","date","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","time","userProfile","parseInt","game_all","game_win","game_lose","collection","doc","set","userMaker","Form","Input","id","theFile","files","reader","FileReader","onloadend","finishedEvent","result","currentTarget","readAsDataURL","src","alt","Button","RegiMatch","allUsers","increment","FieldValue","searchWinner","setSearchWinner","winnersRating","setWinnersRating","searchLoser","setSearchLoser","losersRating","setLosersRating","gameUser","setGameUser","winners","setWinners","losers","setLosers","startDate","setStartDate","allUserList","setAllUserList","useEffect","map","user","winnerChange","key","length","includes","concat","where","get","then","snapshot","forEach","data","Number","isInteger","loserChange","matchSubmit","winnerAverageRating","loserAverageRating","Math","max","min","percentage","pow","toFixed","reversePercentage","RatingChange","round","matchDate","winnerRatingAfter","winner","loserRatingAfter","loser","match","winnerRatingBefore","loserRatingBefore","ratingChange","write_time","NaN","update","shift","regiMatch","onKeyPress","i","selected","UserList","RecentUser","Toast","ToastHeader","MatchList","allGame","deleteClick","winTeam","loseTeam","changedRating","game","delete","RecentGame","AdminMain","Post","userObj","writeMode","setWriteMode","postFixmode","setPostFixMode","refresh","setRefresh","everyPost","setEveryPost","contentmake","setContent","commentmake","setComment","commentfix","setCommentFix","showImage","setShowImage","postimage","setPostImage","imageid","setImageId","orderBy","limit","docs","likelistname","likelistuserid","likenum","commentslists","likelist","like","userid","commentsnum","comment","commentObject","writerid","writername","text","writedate","recentfix","writerphoto","commentfixmode","unshift","postObject","content","writerprofile","recent_fix","imagelist","imageurl","commentslist","commentshow","moremenushow","postfixmode","rightNow","commentfixSubmit","object","post","neweverypost","page","submitComment","commentinfo","displayName","uid","photoUrl","unlikeClicked","likelistbyname","likelistbyuserid","namelist","filter","idlist","likeClicked","likeinfo","submitReview","sendData","promises","file","console","log","slice","String","url","Promise","all","writeModeBtn","commentChange","commentfixChange","imgClicked","showcomment","postImageOne","postImageTwo","postImageThree","postImageFour","postImages","modal","Postfix","Postdelete","window","confirm","Commentdelete","Commentfix","PostList","Postmenushow","classNames","username","postMaker","multiple","htmlFor","image","postMakeBtn","needLoginBtn","RankingContent","contentMode","allUsersList","studentRanking","end","loadState","setLoadState","showRanking","setShowRanking","currentType","setCurrentType","typeContent","setTypeContent","el","userRankingList","index","onClickAction","rankingContentFilter","faCaretDown","onScroll","rankingContainer","scrollTop","clientHeight","scrollHeight","prevLoadState","recentGames","faCaretUp","UserDetailChart","chartMode","period","userMatch","userDetailTarget","getRating","STD_Date","wanted","find","indexOf","day","getNewDateForm","getToday","lastDays","dayOfDate","setDate","getDataLabels","dataLabels","getDatas","datas","labels","datasets","label","fill","borderColor","tension","options","maintainAspectRatio","UserDetailGame","noGames","UserDetailWinningRate","canvasRef","useRef","degToRad","degree","PI","getWinningRate","drawGreenCircle","ctx","x","y","r","S_degree","E_degree","direction","beginPath","lineWidth","strokeStyle","arc","stroke","drawRedCircle","current","getContext","drawBase","width","height","UserDetailRankingRate","allUsersByTime","getRankingRate","sortedArr","sort","b","UserDetail","setIsDetailOn","setChartMode","setPeriod","setUserMatch","info","periodHandler","dataset","chartModeHandler","mode","periodFilter","data-period","chartFilter","data-mode","querySnapshot","userMatchObj","faTimes","UserInfo","mapList","setMapList","isDetailOn","filterName","setFilterName","setUserDetailTarget","showDetail","userInfo","data-name","ClientMain","setContentMode","listOnClicked","AppRouter","setAllUsers","setAllGame","userObject","gameObject","exact","path","App","currentUser","init","setInit","setUserObj","onAuthStateChanged","photoURL","signInAnonymously","catch","code","refreshUser","updateProfile","args","isLoggedIn","Boolean","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+TAgBAA,IAASC,cAXc,CACrBC,OAAQC,0CACRC,WAAYD,gCACZE,YAAaF,uCACbG,UAAWH,gBACXI,cAAeJ,4BACfK,kBAAmBL,eACnBM,MAAON,4CACPO,cAAeP,iBAIV,IAAMQ,EAAmBX,IACnBY,EAAcZ,IAASa,OACvBC,EAAYd,IAASe,YACrBC,EAAiBhB,IAASiB,U,uBCmExBC,EAjFF,WAAO,IAAD,EACSC,mBAAS,IADlB,mBACVC,EADU,KACHC,EADG,OAEeF,mBAAS,IAFxB,mBAEVG,EAFU,KAEAC,EAFA,OAGSJ,mBAAS,IAHlB,mBAGVK,EAHU,KAGHC,EAHG,KAIXC,EAAUC,cAEVC,EAAa,uCAAG,WAAMC,GAAN,eAAAC,EAAA,4DAIR,WAFRD,EADGE,OAAQC,OAIbC,EAAW,IAAItB,EAAiBE,KAAKqB,oBALnB,SAOdtB,EAAYuB,gBAAgBF,GAPd,2CAAH,sDAUbG,EAAW,SAACP,GAAW,IAAD,EACMA,EAAzBE,OAASC,EADU,EACVA,KAAMK,EADI,EACJA,MACV,UAATL,EACDX,EAASgB,GACS,aAATL,GACTT,EAAYc,IAGVC,EAAQ,uCAAG,WAAMT,GAAN,SAAAC,EAAA,6DACfD,EAAMU,iBADS,SAET3B,EAAY4B,UAFH,gCAKE5B,EAAY6B,2BAA2BrB,EAAOE,GALhD,8DAQbG,EAAS,KAAMiB,SARF,QAUfhB,EAAQiB,KAAK,KAVE,yDAAH,sDAad,OACE,sBAAKC,UAAU,gBAAf,UACE,cAAC,IAAD,CACEC,KAAMC,IACNC,MAAO,UACPC,KAAK,KACLC,MAAO,CAAEC,aAAc,MAEzB,iJACA,uBAAMZ,SAAUA,EAAUM,UAAU,YAApC,UACE,uBACAZ,KAAO,QACPmB,KAAK,QACLC,YAAY,QACZC,UAAQ,EACRhB,MAAOjB,EACPgB,SAAUA,EACVQ,UAAU,cAEV,uBACAZ,KAAO,WACPmB,KAAK,WACLC,YAAY,WACZC,UAAQ,EACRhB,MAAOf,EACPc,SAAUA,EACVQ,UAAU,cAEV,uBACEA,UAAU,uBACVO,KAAK,SACLd,MAAM,WAEPb,GAAS,sBAAMoB,UAAU,YAAhB,SAA6BpB,OAEzC,qBAAKoB,UAAU,WAAf,SACE,yBAAQU,QAAS1B,EAAeI,KAAK,SAASY,UAAU,UAAxD,kCACuB,cAAC,IAAD,CAAiBC,KAAMC,eC5DvCS,EAdA,WACb,IAAM7B,EAAUC,cAKhB,OACE,sBAAKiB,UAAU,SAAf,UACE,sBAAMA,UAAU,aAAhB,uFACA,mBAAGY,MAAM,8CAA+CF,QAPtC,WACpB1C,EAAY4B,UACZd,EAAQiB,KAAK,Y,2CCmKFc,EAzKI,WAAO,IAAD,EACKtC,mBAAS,CACnCa,KAAM,GACN0B,UAAU,GACVC,WAAW,GACXC,aAAa,GACbC,OAAO,GACPC,OAAO,iBAPc,mBAChBC,EADgB,KACRC,EADQ,OASa7C,mBAAS,IATtB,mBAShB8C,EATgB,KASJC,EATI,KAYflC,EAAqD+B,EAArD/B,KAAM0B,EAA+CK,EAA/CL,UAAWC,EAAoCI,EAApCJ,WAAYC,EAAwBG,EAAxBH,aAAcE,EAAUC,EAAVD,OAE7CK,EAAe,SAACC,GAAO,IAAD,EACJA,EAAErC,OAAjBM,EADmB,EACnBA,MAAOL,EADY,EACZA,KACdgC,EAAU,2BACLD,GADI,kBAEN/B,EAAOK,MAINgC,EAAc,uCAAG,WAAMD,GAAN,qCAAAtC,EAAA,yDACrBsC,EAAE7B,iBACU,KAATP,EAFkB,uBAGnBsC,MAAM,qDAHa,6BAMJ,KAAdZ,EANkB,uBAOnBY,MAAM,qDAPa,6BAUH,KAAfX,EAVkB,wBAWnBW,MAAM,qDAXa,8BAcD,KAAjBV,EAdkB,wBAenBU,MAAM,wEAfa,8BAkBP,KAAXR,EAlBkB,wBAmBnBQ,MAAM,iEAnBa,8BAsBjBC,EAAgB,GACF,KAAfN,EAvBkB,wBAwBbO,EAAgBxD,EAAeyD,MAAMC,MAAM,eAAeA,MAAM1C,GAxBnD,UAyBIwC,EAAcG,UAAUV,EAAY,YAzBxC,eAyBbW,EAzBa,iBA0BGA,EAASH,IAAII,iBA1BhB,QA0BnBN,EA1BmB,sBA6BjBO,EAAM,IAAIC,KACVC,EAAOF,EAAIG,eACXC,EAAQJ,EAAIK,WAAa,GACpB,KACPD,EAAQ,IAAKA,IAEXE,EAAON,EAAIO,WACP,KACND,EAAO,IAAKA,IAEVE,EAAQR,EAAIS,YACP,KACPD,EAAQ,IAAKA,IAEXE,EAAUV,EAAIW,cACP,KACTD,EAAU,IAAKA,IAEbE,EAAUZ,EAAIa,cACP,KACTD,EAAU,IAAKA,GAEXE,EAAQZ,EAAO,GAAKE,EAAaE,EAAYE,EAAaE,EAAeE,EAEzEG,EAAc,CAClB7D,KAAMA,EACN0B,UAAWoC,SAASpC,GACpBC,WAAYA,EACZC,aAAckC,SAASlC,GACvBC,OAAQiC,SAASlC,GACjBE,OAAQA,EACR8B,KAAKA,EACLrB,gBACAwB,SAAS,EACTC,SAAS,EACTC,UAAU,GAhES,UAkEfnF,EAAUoF,WAAW,QAAQC,IAAInE,GAAMoE,IAAIP,GAlE5B,QAoErB3B,EAAc,IACdF,EAAU,CACRhC,KAAM,GACN0B,UAAU,GACVC,WAAW,GACXC,aAAa,GACbC,OAAO,GACPC,OAAO,iBA3EY,4CAAH,sDA+FduC,EACJ,qBAAKzD,UAAU,YAAf,SACE,eAAC0D,EAAA,EAAD,CAAM1D,UAAU,aAAhB,UACE,sBAAKA,UAAU,mBAAf,UACE,gDACA,cAAC2D,EAAA,EAAD,CAAOpD,KAAK,OAAOnB,KAAK,OAAOwE,GAAG,cAAcpE,SAnBnC,SAACP,GAAW,IAGzB4E,EADF5E,EADGE,OAAQ2E,MAEO,GAChBC,EAAS,IAAIC,WACnBD,EAAOE,UAAY,SAACC,GAAmB,IAEnBC,EACdD,EADFE,cAAgBD,OAElB7C,EAAc6C,IAEhBJ,EAAOM,cAAcR,SAUhBxC,GACD,sBAAKrB,UAAU,0BAAf,UACE,qBAAKA,UAAU,aAAasE,IAAKjD,EAAYkD,IAAI,kBACjD,qBAAKvE,UAAU,qBAAqBU,QA1BlB,kBAAMY,EAAc,KA0BtC,SACE,+CAIJ,sBAAKtB,UAAU,aAAf,UACE,gDACA,cAAC2D,EAAA,EAAD,CAAOpD,KAAK,OAAOnB,KAAK,OAAOI,SAAU+B,EAAc9B,MAAOL,OAEhE,sBAAKY,UAAU,aAAf,UACE,gDACA,cAAC2D,EAAA,EAAD,CAAOpD,KAAK,OAAOnB,KAAK,YAAYI,SAAU+B,EAAc9B,MAAOqB,OAErE,sBAAKd,UAAU,aAAf,UACE,gDACA,cAAC2D,EAAA,EAAD,CAAOpD,KAAK,OAAOnB,KAAK,aAAaI,SAAU+B,EAAc9B,MAAOsB,OAEtE,sBAAKf,UAAU,aAAf,UACE,kEACA,cAAC2D,EAAA,EAAD,CAAOpD,KAAK,OAAOnB,KAAK,eAAeI,SAAU+B,EAAc9B,MAAOuB,OAExE,sBAAKhB,UAAU,aAAf,UACE,gDACA,eAAC2D,EAAA,EAAD,CAAOpD,KAAK,SAASnB,KAAK,SAASI,SAAU+B,EAAc9B,MAAOyB,EAAlE,UACE,kDACA,kDACA,kDACA,8DAGJ,cAACsD,EAAA,EAAD,CAAQxE,UAAU,aAAaU,QAASe,EAAxC,+BAKN,OACE,qBAAKzB,UAAU,WAAf,SACGyD,K,kCCiGQgB,EAhQG,SAAC,GAAgB,IAAfC,EAAc,EAAdA,SACZC,EAAYvH,IAASe,UAAUyG,WAAWD,UAAU,GAD1B,EAEOpG,mBAAS,IAFhB,mBAEzBsG,EAFyB,KAEZC,EAFY,OAGUvG,mBAAS,IAHnB,mBAGzBwG,EAHyB,KAGVC,EAHU,OAIKzG,mBAAS,IAJd,mBAIzB0G,EAJyB,KAIbC,EAJa,OAKQ3G,mBAAS,IALjB,mBAKzB4G,EALyB,KAKXC,EALW,OAMA7G,mBAAS,IANT,mBAMzB8G,EANyB,KAMfC,EANe,OAOF/G,mBAAS,IAPP,mBAOzBgH,EAPyB,KAOhBC,EAPgB,OAQJjH,mBAAS,IARL,mBAQzBkH,EARyB,KAQjBC,EARiB,OASEnH,mBAAS,IAAI4D,MATf,mBASzBwD,EATyB,KASdC,EATc,OAUMrH,mBAAS,IAVf,mBAUzBsH,EAVyB,KAUZC,EAVY,KAYhCC,qBAAU,WACRrB,EAASsB,KAAI,SAAAC,GACXH,GAAe,SAAAD,GAAW,4BAAQA,GAAR,CAAqBI,EAAK7G,eAErD,CAACsF,IAEJ,IAUMwB,EAAe,SAAA1E,GACnB,GAAc,UAAVA,EAAE2E,IAAiB,CAErB,GADA3E,EAAE7B,iBACC4F,EAAQa,QAAQ,EAGjB,OAFA1E,MAAM,kCACNoD,EAAgB,IAGhB,GAAGe,EAAYQ,SAASxB,GAAc,CACpC,GAAGQ,EAASgB,SAASxB,GAGnB,OAFAnD,MAAM,uEACNoD,EAAgB,IAGhBU,EAAWD,EAAQe,OAAOzB,IAC1BS,EAAYD,EAASiB,OAAOzB,IAC5B3G,EAAUoF,WAAW,QAAQiD,MAAM,OAAO,KAAK1B,GAAc2B,MAAMC,MAAK,SAACC,GACvEA,EAASC,SAAQ,SAACpD,GAChByB,EAAiBD,EAAcuB,OAAO/C,EAAIqD,OAAO3F,eAGrD6D,EAAgB,SAGV+B,OAAOC,UAAU5D,SAAS2B,KAClCW,EAAWD,EAAQe,OAAOzB,IAC1BC,EAAgB,IAChBE,EAAiBD,EAAcuB,OAAOO,OAAOhC,OAG7CnD,MAAM,kEACNoD,EAAgB,UAIpBA,EAAgBtD,EAAErC,OAAOM,QAIvBsH,EAAc,SAAAvF,GAClB,GAAc,UAAVA,EAAE2E,IAAiB,CAErB,GADA3E,EAAE7B,iBACC8F,EAAOW,QAAQ,EAGhB,OAFA1E,MAAM,kCACNwD,EAAe,IAGf,GAAGW,EAAYQ,SAASpB,GAAa,CACnC,GAAGI,EAASgB,SAASpB,GAGnB,OAFAvD,MAAM,uEACNwD,EAAe,IAGfI,EAAYD,EAASiB,OAAOrB,IAC5BS,EAAUD,EAAOa,OAAOrB,IACxB/G,EAAUoF,WAAW,QAAQiD,MAAM,OAAO,KAAKtB,GAAauB,MAAMC,MAAK,SAACC,GACtEA,EAASC,SAAQ,SAACpD,GAChB6B,EAAgBD,EAAamB,OAAO/C,EAAIqD,OAAO3F,eAGnDiE,EAAe,SAGT2B,OAAOC,UAAU5D,SAAS+B,KAClCS,EAAUD,EAAOa,OAAOrB,IACxBC,EAAe,IACfE,EAAgBD,EAAamB,OAAOO,OAAO5B,OAE3CvD,MAAM,kEACNwD,EAAe,UAInBA,EAAe1D,EAAErC,OAAOM,QAItBuH,EAAW,uCAAG,WAAMxF,GAAN,+CAAAtC,EAAA,yDAClBsC,EAAE7B,iBACEsH,EAAsBlC,EAAc,GACpCmC,EAAqB/B,EAAa,GACb,GAAtBJ,EAAcqB,SACfa,GAAuBE,KAAKC,IAAIrC,EAAc,GAAGA,EAAc,IAAI,EAAEoC,KAAKE,IAAItC,EAAc,GAAGA,EAAc,KAAK,GAE5F,GAArBI,EAAaiB,SACdc,GAAsBC,KAAKC,IAAIjC,EAAa,GAAGA,EAAa,IAAI,EAAEgC,KAAKE,IAAIlC,EAAa,GAAGA,EAAa,KAAK,GAEzGmC,GAAc,GAAG,EAAGH,KAAKI,IAAI,IAAIL,EAAmBD,GAAqB,OAAQO,QAAQ,GACzFC,GAAqB,EAAEH,GAAYE,QAAQ,GAC7CE,EAAa,EAEfA,EADuB,GAAtB3C,EAAcqB,OACAe,KAAKQ,MAAwB,GAAlBF,GAEXN,KAAKQ,MAAwB,GAAlBF,GAER,IAAjBlC,EAAQa,OAlBO,wBAmBhB1E,MAAM,qDAnBU,8BAsBC,IAAhB+D,EAAOW,OAtBQ,wBAuBhB1E,MAAM,qDAvBU,8BA0Bf6D,EAAQa,SAAWX,EAAOW,OA1BX,wBA2BhB1E,MAAM,+CA3BU,8BA+BdQ,EAAM,IAAIC,KACVC,EAAOF,EAAIG,eACXC,EAAQJ,EAAIK,WAAa,GACpB,KACPD,EAAQ,IAAKA,IAEXE,EAAON,EAAIO,WACP,KACND,EAAO,IAAKA,IAEVE,EAAQR,EAAIS,YACP,KACPD,EAAQ,IAAKA,IAEXE,EAAUV,EAAIW,cACP,KACTD,EAAU,IAAKA,IAEbE,EAAUZ,EAAIa,cACP,KACTD,EAAU,IAAKA,GAEXE,EAAQZ,EAAO,GAAKE,EAAaE,EAAYE,EAAaE,EAAeE,EAE/EV,EAAOuD,EAAUtD,eACjBC,EAAQqD,EAAUpD,WAAa,GACtB,KACPD,EAAQ,IAAKA,IAEfE,EAAOmD,EAAUlD,WACT,KACND,EAAO,IAAKA,GAERoF,EAAaxF,EAAO,GAAKE,EAAaE,EAExCqF,EAAoB9C,EAAciB,KAAI,SAAA8B,GAAM,OAAIA,EAASJ,KACzDK,EAAmB5C,EAAaa,KAAI,SAAAgC,GAAK,OAAIA,EAAQN,KAEnDO,EAAQ,CACZ1C,QAASA,EACT2C,mBAAoBnD,EACpB8C,kBAAmBA,EACnBpC,OAAQA,EACR0C,kBAAmBhD,EACnB4C,iBAAkBA,EAClBT,WAAYH,KAAKQ,MAAiB,IAAXL,GACvBc,aAAcV,EACdlF,KAAMoF,EACNS,WAAYrF,GAGCsF,KAAZhB,EAlFe,wBAmFhB5F,MAAM,2BAnFU,4CAuFZxD,EAAUoF,WAAW,QAAQC,IAAIqE,EAAU,IAAI5E,GAAMQ,IAAIyE,GAvF7C,yBAyFZ1C,EAAQS,KAAI,SAAA8B,GAChB5J,EAAUoF,WAAW,QAAQC,IAAIuE,GAAQxE,WAAW,eAAeC,IAAIqE,EAAU,IAAI5E,GAAMQ,IAAIyE,GAC/F/J,EAAUoF,WAAW,QAAQC,IAAIuE,GAAQS,OAAO,CAC9CtH,OAAQ8D,EAAcyD,QAAUd,EAChCvE,SAAUwB,EACVvB,SAAUuB,OA9FI,yBAiGZc,EAAOO,KAAI,SAAAgC,GACf9J,EAAUoF,WAAW,QAAQC,IAAIyE,GAAO1E,WAAW,eAAeC,IAAIqE,EAAU,IAAI5E,GAAMQ,IAAIyE,GAC9F/J,EAAUoF,WAAW,QAAQC,IAAIyE,GAAOO,OAAO,CAC7CtH,OAAQkE,EAAaqD,QAAUd,EAC/BvE,SAAUwB,EACVtB,UAAWsB,OAtGG,QAtFlBG,EAAgB,IAChBI,EAAe,IACfM,EAAW,IACXE,EAAU,IACVJ,EAAY,IACZN,EAAiB,IACjBI,EAAgB,IAgFE,4CAAH,sDA6GXqD,GACJ,qBAAKzI,UAAU,YAAf,SACE,eAAC0D,EAAA,EAAD,CAAM1D,UAAU,aAAhB,UACE,sBAAKA,UAAU,cAAf,UACE,iCACE,yCACA,cAAC2D,EAAA,EAAD,CAAOpD,KAAK,OAAOnB,KAAK,MAAMK,MAAOoF,EAAcrF,SAAU0G,EAAcwC,WAAYxC,IACvF,qBAAKlG,UAAU,mBAAf,SACGuF,EAAQS,KAAI,SAAA2C,GAAC,OACZ,sBAAM3I,UAAU,aAAhB,SAA8B2I,YAIpC,sBAAM3I,UAAU,SAAhB,kBACA,iCACE,yCACA,cAAC2D,EAAA,EAAD,CAAOpD,KAAK,OAAOnB,KAAK,OAAOK,MAAOwF,EAAazF,SAAUuH,EAAa2B,WAAY3B,IACtF,qBAAK/G,UAAU,QAAf,SACE,qBAAKA,UAAU,WAAf,SACGyF,EAAOO,KAAI,SAAA2C,GAAC,OACX,sBAAM3I,UAAU,aAAhB,SAA8B2I,iBAMxC,sBAAK3I,UAAU,aAAf,UACE,sBAAMA,UAAU,aAAhB,gCACA,cAAC,IAAD,CAAY4I,SAAUjD,EAAWnG,SAAU,SAAAgD,GAAI,OAAIoD,EAAapD,SAElE,cAACgC,EAAA,EAAD,CAAQxE,UAAU,aAAaU,QAASsG,EAAxC,+BAKN,OACE,qBAAKhH,UAAU,WAAf,SACGyI,M,kBCrOQI,EA5BE,SAAC,GAAgB,IAE1BC,EAFyB,EAAdpE,SAEWsB,KAAI,SAAAC,GAAI,OAClC,eAAC8C,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UACE,sBAAKhJ,UAAU,eAAf,UACE,gCAAMiG,EAAK7G,KAAX,QACA,8BAAM6G,EAAK/E,cAGf,sBAAKlB,UAAU,0BAAf,UACE,kDAAWiG,EAAKnF,aAChB,kDAAWmF,EAAKlF,iBAElB,sBAAKf,UAAU,0BAAf,UACE,4CAAeiG,EAAKhF,UACpB,kDAAWgF,EAAK7C,SAAhB,UAA4B6C,EAAK5C,UAAjC,qBAKN,OACE,qBAAKrD,UAAU,UAAf,SACG8I,KCkDQG,EAtEG,SAAC,GAAe,IAAdC,EAAa,EAAbA,QAEZC,EAAW,uCAAG,WAAM3H,GAAN,mBAAAtC,EAAA,6DACdkK,EAAU,GACVC,EAAW,GACXC,EAAgB,EACpBJ,EAAQlD,KAAI,SAAAuD,GACPA,EAAK3F,IAAMpC,EAAErC,OAAOyE,KACrBwF,EAAQA,EAAQ9C,OAAOiD,EAAKhE,SAC5B8D,EAASA,EAAS/C,OAAOiD,EAAK9D,QAC9B6D,EAAeC,EAAKnB,iBARN,SAYZgB,EAAQpD,KAAI,SAAA8B,GAChB5J,EAAUoF,WAAW,QAAQC,IAAIuE,GAAQxE,WAAW,eAAeC,IAAI/B,EAAErC,OAAOyE,IAAI4F,SACpFtL,EAAUoF,WAAW,QAAQC,IAAIuE,GAAQS,OAAO,CAC9CtH,OAAO7D,IAASe,UAAUyG,WAAWD,WAAW2E,GAChDnG,SAAS/F,IAASe,UAAUyG,WAAWD,WAAW,GAClDvB,SAAShG,IAASe,UAAUyG,WAAWD,WAAW,QAjBpC,uBAqBZ0E,EAASrD,KAAI,SAAAgC,GACjB9J,EAAUoF,WAAW,QAAQC,IAAIyE,GAAO1E,WAAW,eAAeC,IAAI/B,EAAErC,OAAOyE,IAAI4F,SACnFtL,EAAUoF,WAAW,QAAQC,IAAIyE,GAAOO,OAAO,CAC7CtH,OAAO7D,IAASe,UAAUyG,WAAWD,UAAU2E,GAC/CnG,SAAS/F,IAASe,UAAUyG,WAAWD,WAAW,GAClDtB,UAAUjG,IAASe,UAAUyG,WAAWD,WAAW,QA1BrC,wBA6BZzG,EAAUoF,WAAW,QAAQC,IAAI/B,EAAErC,OAAOyE,IAAI4F,SA7BlC,QA8BlB9H,MAAMF,EAAErC,OAAOyE,GAAG,gDA9BA,4CAAH,sDAiCX6F,EAAaP,EAAQlD,KAAI,SAAAuD,GAAI,OACjC,sBAAKvJ,UAAU,cAAf,UACE,eAAC+I,EAAA,EAAD,WACE,eAACC,EAAA,EAAD,WACGO,EAAKhE,QAAQS,KAAI,SAAA2C,GAAC,OACnB,sBAAM3I,UAAU,aAAhB,SAA8B2I,OAFhC,KAKGY,EAAK9D,OAAOO,KAAI,SAAA2C,GAAC,OAClB,sBAAM3I,UAAU,aAAhB,SAA8B2I,UAGhC,sBAAK3I,UAAU,mCAAf,UACE,oEAAcuJ,EAAKnB,gBACnB,8DAAamB,EAAKjC,WAAlB,UAEF,sBAAKtH,UAAU,mCAAf,wCACUuJ,EAAKvG,WAGjB,mBAAGpC,MAAM,8BAA8BgD,GAAI2F,EAAK/G,KAAK,IAAI+G,EAAKvG,KAAMtC,QAASyI,UAIjF,OACE,sBAAKnJ,UAAU,UAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,sDACA,yDAEF,8BAAMyJ,QC/CGC,G,OAfG,SAAC,GAAyB,IAAxBhF,EAAuB,EAAvBA,SAAUwE,EAAa,EAAbA,QAE5B,OACE,sBAAKlJ,UAAU,YAAf,UACE,cAAC,EAAD,IACA,sBAAKA,UAAU,UAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CAAW0E,SAAUA,IACrB,cAAC,EAAD,CAAUA,SAAUA,IACpB,cAAC,EAAD,CAAWwE,QAASA,YCmlBbS,EAjmBF,SAAC,GAAe,IAAdC,EAAa,EAAbA,QAAa,EACQrL,oBAAS,GADjB,mBACnBsL,EADmB,KACRC,EADQ,OAEWvL,oBAAS,GAFpB,mBAEnBwL,EAFmB,KAENC,EAFM,OAGIzL,oBAAS,GAHb,mBAGnB0L,EAHmB,KAGVC,EAHU,OAIQ3L,mBAAS,IAJjB,mBAInB4L,EAJmB,KAIRC,EAJQ,OAKQ7L,mBAAS,IALjB,mBAKnB8L,EALmB,KAKNC,EALM,OAMQ/L,mBAAS,IANjB,mBAMnBgM,EANmB,KAMNC,EANM,OAOUjM,mBAAS,IAPnB,mBAOnBkM,EAPmB,KAOPC,EAPO,OAQUnM,mBAAS,IARnB,mBAQnB8C,EARmB,KAQPC,EARO,OASQ/C,oBAAS,GATjB,mBASnBoM,EATmB,KASRC,EATQ,OAUQrM,mBAAS,IAVjB,mBAUnBsM,EAVmB,KAURC,EAVQ,OAWIvM,mBAAS,GAXb,oBAWnBwM,GAXmB,MAWVC,GAXU,MAYR5N,IAASe,UAAUyG,WAAWD,UAAU,GAE1DoB,qBAAU,WACRqE,EAAa,IACblM,EAAUoF,WAAW,QAAQ2H,QAAQ,OAAO,QAAQC,MAAM,IAAI1E,MAAMC,MAAK,SAAAC,GACvEA,EAASyE,KAAKnF,IAAd,uCAAkB,WAAMzC,GAAN,yBAAArE,EAAA,6DACZkM,EAAe,GACfC,EAAiB,GACjBC,EAAU,EACVC,EAAgB,GAJJ,SAKVrN,EAAUoF,WAAW,QAAQC,IAAIA,EAAIqD,OAAOpE,MAAMc,WAAW,SAASkD,MAAMC,MAAK,SAAA+E,GACrFA,EAASL,KAAKnF,KAAI,SAAAyF,GAChBH,GAAW,EACXF,EAAarL,KAAK0L,EAAK7E,OAAOxH,MAC9BiM,EAAetL,KAAK0L,EAAK7E,OAAO8E,cATpB,cAYZC,EAAc,EAZF,SAaVzN,EAAUoF,WAAW,QAAQC,IAAIA,EAAIqD,OAAOpE,MAAMc,WAAW,YAAYkD,MAAMC,MAAK,SAAAmF,GACxFA,EAAQT,KAAKnF,KAAI,SAAA4F,GACfD,GAAe,EACf,IAAME,EAAgB,CACpBC,SAAUF,EAAQhF,OAAOkF,SACzBC,WAAYH,EAAQhF,OAAOmF,WAC3BC,KAAMJ,EAAQhF,OAAOoF,KACrBC,UAAWL,EAAQhF,OAAOqF,UAC1BC,UAAWN,EAAQhF,OAAOsF,UAC1BC,YAAaP,EAAQhF,OAAOuF,YAC5BC,gBAAgB,GAElBb,EAAcc,QAAQR,SAzBV,OA4BVS,EAAa,CACjBC,QAAShJ,EAAIqD,OAAO2F,QACpBR,WAAYxI,EAAIqD,OAAOmF,WACvBD,SAAUvI,EAAIqD,OAAOkF,SACrBU,cAAejJ,EAAIqD,OAAO4F,cAC1BhK,KAAMe,EAAIqD,OAAOpE,KACjBiK,WAAYlJ,EAAIqD,OAAO6F,WACvBC,UAAWnJ,EAAIqD,OAAO+F,SACtBrB,QAASA,EACTF,aAAcA,EACdC,eAAgBA,EAChBM,YAAaA,EACbiB,aAAcrB,EACdsB,aAAa,EACbC,cAAc,EACdC,aAAa,GAEf3C,GAAa,SAAAD,GAAS,4BAAQA,GAAR,CAAmBmC,OA7CzB,4CAAlB,4DAgDD,CAACrC,IAEJ,IAAMjL,GAAa,uCAAG,WAAMC,GAAN,eAAAC,EAAA,4DAIR,WAFRD,EADGE,OAAQC,OAIbC,EAAW,IAAItB,EAAiBE,KAAKqB,oBALnB,SAOdtB,EAAYuB,gBAAgBF,GAPd,2CAAH,sDAUnB,SAAS2N,KACP,IAAI9K,EAAM,IAAIC,KACVC,EAAOF,EAAIG,cACXC,EAAQJ,EAAIK,WAAa,EAC1BD,EAAM,KACPA,EAAQ,IAAKA,GAEf,IAAIE,EAAON,EAAIO,UACZD,EAAK,KACNA,EAAO,IAAKA,GAEd,IAAIE,EAAQR,EAAIS,WACbD,EAAM,KACPA,EAAQ,IAAKA,GAEf,IAAIE,EAAUV,EAAIW,aACfD,EAAQ,KACTA,EAAU,IAAKA,GAEjB,IAAIE,EAAUZ,EAAIa,aAKlB,OAJGD,EAAQ,KACTA,EAAU,IAAKA,GAEHV,EAAO,GAAKE,EAAaE,EAAYE,EAAaE,EAAeE,EAIjF,IAAMmK,GAAgB,uCAAG,WAAMzL,EAAE0L,GAAR,iBAAAhO,EAAA,yDACvBsC,EAAE7B,iBACgB,KAAf8K,EAFoB,uBAGrB/I,MAAM,qDAHe,6BAMpB+I,IAAeyC,EAAOtB,QAAQI,KANV,wDASjBhJ,EAAOgK,KATU,SAUjB9O,EAAUoF,WAAW,QAAQC,IAAI2J,EAAOC,KAAK3K,MAAMc,WAAW,YAAYC,IAAI2J,EAAOtB,QAAQK,WAAW1D,OAAO,CAACyD,KAAMvB,EAAYyB,UAAWlJ,IAV5H,OAWjBoK,EAAejD,EAAUnE,KAAI,SAAAqH,GAUjC,OATGA,EAAK7K,MAAQ0K,EAAOC,KAAK3K,MAC1B6K,EAAKT,aAAa5G,KAAI,SAAA4F,GAKpB,OAJGA,EAAQK,WAAaiB,EAAOtB,QAAQK,YACrCL,EAAQQ,gBAAkBR,EAAQQ,eAClCR,EAAQI,KAAOvB,GAEVmB,KAGJyB,KAETjD,EAAagD,GACb1C,EAAc,IAxBS,4CAAH,wDA2BhB4C,GAAa,uCAAG,WAAM9L,EAAE2L,GAAR,mBAAAjO,EAAA,yDACpBsC,EAAE7B,iBACiB,KAAhB4K,EAFiB,uBAGlB7I,MAAM,qDAHY,iCAMdsB,EAAOgK,KACPO,EAAc,CAClBvB,KAAMzB,EACN0B,UAAWjJ,EACXkJ,UAAWlJ,EACX+I,WAAYnC,EAAQ4D,YACpB1B,SAAUlC,EAAQ6D,IAClBtB,YAAavC,EAAQ8D,UAbH,SAedxP,EAAUoF,WAAW,QAAQC,IAAI4J,EAAKA,KAAK3K,MAAMc,WAAW,YAAYC,IAAIP,GAAMQ,IAAI+J,GAfxE,OAgBpB/C,EAAW,IAEL4C,EAAejD,EAAUnE,KAAI,SAAAqH,GACjC,GAAGA,EAAK7K,MAAQ2K,EAAKA,KAAK3K,KAAK,CAC7B,IAAM+I,EAAgB8B,EAAKT,aAC3BrB,EAAcc,QAAQkB,GACtBF,EAAKT,aAAerB,EAEtB,OAAO8B,KAETjD,EAAagD,GA1BO,4CAAH,wDA6BbO,GAAa,uCAAG,WAAMnM,EAAE2L,GAAR,eAAAjO,EAAA,6DACpBsC,EAAE7B,iBADkB,SAEdzB,EAAUoF,WAAW,QAAQC,IAAI4J,EAAKA,KAAK3K,MAAMc,WAAW,SAASC,IAAIqG,EAAQ6D,KAAKjE,SAFxE,OAId4D,EAAejD,EAAUnE,KAAI,SAAAqH,GACjC,GAAGA,EAAK7K,MAAQ2K,EAAKA,KAAK3K,KAAK,CAC7B,IAAMoL,EAAiBP,EAAKjC,aACtByC,EAAmBR,EAAKhC,eACxByC,EAAWF,EAAeG,QAAO,SAAC3O,GAAD,OAAUA,IAASwK,EAAQ4D,eAC5DQ,EAASH,EAAiBE,QAAO,SAACN,GAAD,OAASA,IAAQ7D,EAAQ6D,OAChEJ,EAAK/B,QAAU+B,EAAK/B,QAAS,EAC7B+B,EAAKjC,aAAe0C,EACpBT,EAAKhC,eAAiB2C,EAExB,OAAOX,KAETjD,EAAagD,GAhBO,2CAAH,wDAmBba,GAAW,uCAAG,WAAMzM,EAAE2L,GAAR,iBAAAjO,EAAA,6DAClBsC,EAAE7B,iBACIuO,EAAW,CACf9O,KAAMwK,EAAQ4D,YACd9B,OAAQ9B,EAAQ6D,IAChBzK,KAAMgK,MALU,SAOZ9O,EAAUoF,WAAW,QAAQC,IAAI4J,EAAKA,KAAK3K,MAAMc,WAAW,SAASC,IAAIqG,EAAQ6D,KAAKjK,IAAI0K,GAP9E,OASZd,EAAejD,EAAUnE,KAAI,SAAAqH,GACjC,GAAGA,EAAK7K,MAAQ2K,EAAKA,KAAK3K,KAAK,CAC7B,IAAMoL,EAAiBP,EAAKjC,aACtByC,EAAmBR,EAAKhC,eAC9BuC,EAAe7N,KAAK6J,EAAQ4D,aAC5BK,EAAiB9N,KAAK6J,EAAQ6D,KAC9BJ,EAAK/B,QAAU+B,EAAK/B,QAAU,EAC9B+B,EAAKjC,aAAewC,EACpBP,EAAKhC,eAAiBwC,EAExB,OAAOR,KAETjD,EAAagD,GArBK,2CAAH,wDAwBXe,GAAY,uCAAG,WAAM3M,GAAN,QASJ4M,EATI,aAAAlP,EAAA,6FAAAA,EAAA,MASnB,8BAAAA,EAAA,6DACMyJ,EAAI,EACF0F,EAAWhN,EAAW2E,IAAX,+BAAA9G,EAAA,MAAe,WAAMoP,GAAN,mBAAApP,EAAA,yDAC9ByJ,GAAM,EACN4F,QAAQC,IAAIF,EAAKG,MAAM,EAAE,IACL,QAAjBH,EAAKG,MAAM,EAAE,GAHc,yCAIrBH,GAJqB,uBAMFlQ,EAAeyD,MAAMC,MAAM,SAASA,MAAMkB,GAAMlB,MAAM4M,OAAO/F,IAN3D,cAMxB/G,EANwB,iBAOPA,EAAcG,UAAUuM,EAAM,YAPvB,eAOxBtM,EAPwB,iBAQZA,EAASH,IAAII,iBARD,eAQxB0M,EARwB,yBASrBA,GATqB,4CAAf,uDAFnB,SAcyBC,QAAQC,IAAIR,GAdrC,cAeU1H,SAAQ,SAAAC,GAAI,OAAIjF,EAAc5B,KAAK6G,MAf7C,4CATmB,uBASJwH,EATI,2CACnB5M,EAAE7B,iBACiB,KAAhB0K,EAFgB,uBAGjB3I,MAAM,qDAHW,iCAMbsB,EAAOgK,KACTrL,EAAgB,GAPD,UA0BbyM,IA1Ba,YA4BhBrE,EA5BgB,wBA6BjBwE,QAAQC,IAAI,eA7BK,UA8BXtQ,EAAUoF,WAAW,QAAQC,IAAIwG,GAAaxB,OAAO,CAACkE,WAAYzJ,EAAKuJ,QAASlC,EAAYsC,SAAUhL,IA9B3F,uCAgCX2K,EAAa,CACjB9J,KAAMQ,EACNyJ,WAAYzJ,EACZuJ,QAASlC,EACT0B,WAAYnC,EAAQ4D,YACpB1B,SAAUlC,EAAQ6D,IAClBjB,cAAe5C,EAAQ8D,SACvBf,SAAUhL,GAvCK,UAyCXzD,EAAUoF,WAAW,QAAQC,IAAIP,GAAMQ,IAAI8I,GAzChC,QA2CnBhC,EAAW,IACXR,GAAcD,GACdK,GAAYD,GACZ3I,EAAc,IACd0I,GAAe,GA/CI,4CAAH,sDAkDZ8E,GAAe,WACnBxE,EAAW,IACXhJ,EAAc,IACd0I,GAAe,GACfF,GAAcD,IAQVkF,GAAgB,SAACvN,GACrBA,EAAE7B,iBACF6K,EAAWhJ,EAAErC,OAAOM,QAGhBuP,GAAmB,SAACxN,GACxBA,EAAE7B,iBACF+K,EAAclJ,EAAErC,OAAOM,QAyBnBwP,GAAa,SAACzN,EAAE2L,GACpBrC,EAAaqC,EAAKA,MAClBnC,GAAW9H,SAAS1B,EAAErC,OAAOyE,KAC7BgH,GAAa,IASTsE,GAAc,SAAC1N,EAAE2L,GACrB3L,EAAE7B,iBACF,IAAMyN,EAAejD,EAAUnE,KAAI,SAAAqH,GAIjC,OAHGA,EAAK7K,MAAQ2K,EAAKA,KAAK3K,OACxB6K,EAAKR,aAAeQ,EAAKR,aAEpBQ,KAETjD,EAAagD,IAGT+B,GAAe,SAAChC,GAAD,OACjB,qBAAKvJ,GAAG,IAAIlD,QAAS,SAACc,GAAOyN,GAAWzN,EAAE,CAAC2L,UAAS7I,IAAK6I,EAAK,GAAInN,UAAU,cAG1EoP,GAAe,SAACjC,GAAD,OACnB,sBAAKnN,UAAU,aAAf,UACE,qBAAKU,QAAS,SAACc,GAAOyN,GAAWzN,EAAE,CAAC2L,UAApC,SACE,qBAAKvJ,GAAG,IAAIlD,QAAS,SAACc,GAAOyN,GAAWzN,EAAE,CAAC2L,UAAS7I,IAAK6I,EAAK,GAAInN,UAAU,eAE9E,qBAAKU,QAAS,SAACc,GAAOyN,GAAWzN,EAAE,CAAC2L,UAApC,SACE,qBAAKvJ,GAAG,IAAIlD,QAAS,SAACc,GAAOyN,GAAWzN,EAAE,CAAC2L,UAAS7I,IAAK6I,EAAK,GAAInN,UAAU,mBAK5EqP,GAAiB,SAAClC,GAAD,OACrB,qCACE,qBAAKzM,QAAS,SAACc,GAAOyN,GAAWzN,EAAE,CAAC2L,UAApC,SAA6C,qBAAKvJ,GAAG,IAAIU,IAAK6I,EAAK,GAAInN,UAAU,oBACjF,sBAAKU,QAAS,SAACc,GAAOyN,GAAWzN,EAAE,CAAC2L,UAApC,UACE,qBAAKvJ,GAAG,IAAIU,IAAK6I,EAAK,GAAInN,UAAU,oBACpC,qBAAK4D,GAAG,IAAIU,IAAK6I,EAAK,GAAInN,UAAU,2BAKpCsP,GAAgB,SAACnC,GAAD,OACpB,sBAAKnN,UAAU,aAAf,UACE,qBAAKU,QAAS,SAACc,GAAOyN,GAAWzN,EAAE,CAAC2L,UAASnN,UAAU,YAAvD,SACE,qBAAK4D,GAAG,IAAIlD,QAAS,SAACc,GAAOyN,GAAWzN,EAAE,CAAC2L,UAAS7I,IAAK6I,EAAK,GAAInN,UAAU,gBAE9E,qBAAKU,QAAS,SAACc,GAAOyN,GAAWzN,EAAE,CAAC2L,UAASnN,UAAU,YAAvD,SACE,qBAAK4D,GAAG,IAAIlD,QAAS,SAACc,GAAOyN,GAAWzN,EAAE,CAAC2L,UAAS7I,IAAK6I,EAAK,GAAInN,UAAU,gBAE9E,qBAAKU,QAAS,SAACc,GAAOyN,GAAWzN,EAAE,CAAC2L,UAASnN,UAAU,YAAvD,SACE,qBAAK4D,GAAG,IAAIlD,QAAS,SAACc,GAAOyN,GAAWzN,EAAE,CAAC2L,UAAS7I,IAAK6I,EAAK,GAAInN,UAAU,gBAE9E,qBAAKU,QAAS,SAACc,GAAOyN,GAAWzN,EAAE,CAAC2L,UAASnN,UAAU,YAAvD,SACE,qBAAK4D,GAAG,IAAIlD,QAAS,SAACc,GAAOyN,GAAWzN,EAAE,CAAC2L,UAAS7I,IAAK6I,EAAK,GAAInN,UAAU,oBAK5EuP,GAAa,SAACpC,GAAD,OACjB,sBAAKnN,UAAU,aAAf,UACE,qBAAKA,UAAU,YAAYmN,KAAMA,EAAMzM,QAAS,SAACc,GAAOyN,GAAWzN,EAAE,CAAC2L,UAAtE,SAA+E,qBAAKvJ,GAAG,IAAIU,IAAK6I,EAAK,GAAInN,UAAU,gBACnH,qBAAKA,UAAU,YAAYmN,KAAMA,EAAMzM,QAAS,SAACc,GAAOyN,GAAWzN,EAAE,CAAC2L,UAAtE,SAA+E,qBAAKvJ,GAAG,IAAIU,IAAK6I,EAAK,GAAInN,UAAU,gBACnH,qBAAKA,UAAU,YAAYmN,KAAMA,EAAMzM,QAAS,SAACc,GAAOyN,GAAWzN,EAAE,CAAC2L,UAAtE,SAA+E,qBAAKvJ,GAAG,IAAIU,IAAK6I,EAAK,GAAInN,UAAU,gBACnH,sBAAKA,UAAU,YAAYmN,KAAMA,EAAMzM,QAAS,SAACc,GAAOyN,GAAWzN,EAAE,CAAC2L,UAAtE,UACE,qBAAKnN,UAAU,aAAa4D,GAAG,MAC/B,qBAAK5D,UAAU,iBAAiB4D,GAAG,IAAnC,iCACA,qBAAKA,GAAG,IAAIU,IAAK6I,EAAK,GAAInN,UAAU,qBAKpCwP,GACJ,sBAAKxP,UAAU,QAAf,UACE,sBAAMA,UAAU,QAAQU,QA1ET,WACjBoK,EAAa,IACbE,GAAW,IACXJ,GAAa,IAuEX,kBACY,GAAXG,IAAgB,sBAAM/K,UAAU,OAAOU,QAzF3B,WACfsK,GAAWD,GAAQ,IAwFA,eAChBF,EAAUzE,OAAO,IAAM2E,IAAW,sBAAM/K,UAAU,QAAQU,QAtF7C,WAChBsK,GAAWD,GAAQ,IAqFkB,eACnC,qBAAK/K,UAAU,gBAAgBsE,IAAKuG,EAAUE,SAI5C0E,GAAO,uCAAG,WAAMjO,EAAG2L,GAAT,SAAAjO,EAAA,sDACd8K,EAAemD,EAAKA,KAAK3K,MACzBsH,GAAcD,GACdS,EAAW6C,EAAKA,KAAKZ,SACrBjL,EAAc6L,EAAKA,KAAKT,WAJV,2CAAH,wDAQPgD,GAAU,uCAAG,WAAMlO,EAAE2L,GAAR,SAAAjO,EAAA,0DACdyQ,OAAOC,QAAQ,8BADD,gCAET1R,EAAUoF,WAAW,QAAQC,IAAI4J,EAAKA,KAAK3K,MAAMgH,SAFxC,OAGfU,GAAYD,GAHG,2CAAH,wDAiBV4F,GAAa,uCAAG,WAAMrO,EAAE0L,GAAR,SAAAhO,EAAA,0DACjByQ,OAAOC,QAAQ,8BADE,gCAEZ1R,EAAUoF,WAAW,QAAQC,IAAI2J,EAAOC,KAAK3K,MAAMc,WAAW,YAAYC,IAAI2J,EAAOtB,QAAQK,WAAWzC,SAF5F,OAGlBU,GAAYD,GAHM,2CAAH,wDAOb6F,GAAU,uCAAG,WAAMtO,EAAE0L,GAAR,eAAAhO,EAAA,sDACXkO,EAAejD,EAAUnE,KAAI,SAAAqH,GASjC,OARGA,EAAK7K,MAAQ0K,EAAOC,KAAK3K,MAC1B6K,EAAKT,aAAa5G,KAAI,SAAA4F,GAIpB,OAHGA,EAAQK,WAAaiB,EAAOtB,QAAQK,YACrCL,EAAQQ,gBAAkBR,EAAQQ,gBAE7BR,KAGJyB,KAETjD,EAAagD,GACb1C,EAAcwC,EAAOtB,QAAQI,MAbZ,2CAAH,wDAgBV+D,GAAW5F,EAAUnE,KAAI,SAAAmH,GAAI,OACjC,sBAAKnN,UAAU,OAAf,UACGmN,EAAKrB,UAAYlC,EAAQ6D,KACxB,sBAAKzN,UAAU,WAAWU,QAAS,SAACc,IApCrB,SAACA,EAAG2L,GACvB,IAAMC,EAAejD,EAAUnE,KAAI,SAAAqH,GAIjC,OAHGA,EAAK7K,MAAQ2K,EAAKA,KAAK3K,OACxB6K,EAAKP,cAAgBO,EAAKP,cAErBO,KAETjD,EAAagD,GA6BkC4C,CAAaxO,EAAE,CAAC2L,UAA3D,UACE,mBAAGnN,UAAU,mCACb,sBAAKA,UAAWmN,EAAKL,aAAe,iBAAmB,gBAAvD,UACE,qBAAK9M,UAAU,UAAUU,QAAS,SAACc,GAAOiO,GAAQjO,EAAE,CAAC2L,UAArD,0BACA,qBAAKnN,UAAU,aAAaU,QAAS,SAACc,GAAOkO,GAAWlO,EAAE,CAAC2L,UAA3D,gCAIN,sBAAKnN,UAAU,aAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,qBAAKA,UAAU,cAAcsE,IAAK6I,EAAKX,kBAEzC,sBAAKxM,UAAU,kBAAf,UACE,qBAAKiQ,WAAW,WAAhB,SAA4B9C,EAAKpB,aACjC,sBAAKkE,WAAW,WAAhB,UAA4B9C,EAAK3K,KAAKiM,MAAM,EAAE,GAA9C,UAAoDtB,EAAK3K,KAAKiM,MAAM,EAAG,GAAvE,UAA6EtB,EAAK3K,KAAKiM,MAAM,EAAE,GAA/F,kBAGJ,sBAAKzO,UAAU,cAAf,UACE,qBAAKA,UAAU,WAAf,SAA2BmN,EAAKZ,UAChC,sBAAKvM,UAAU,YAAf,UAC4B,GAAzBmN,EAAKT,UAAUtG,QAAe+I,GAAahC,EAAKT,WACvB,GAAzBS,EAAKT,UAAUtG,QAAegJ,GAAajC,EAAKT,WACvB,GAAzBS,EAAKT,UAAUtG,QAAeiJ,GAAelC,EAAKT,WACzB,GAAzBS,EAAKT,UAAUtG,QAAekJ,GAAcnC,EAAKT,WACjDS,EAAKT,UAAUtG,OAAS,GAAKmJ,GAAWpC,EAAKT,iBAGlD,sBAAK1M,UAAU,kBAAf,UACE,sBAAKA,UAAU,WAAf,UACE,mBAAGA,UAAU,2BACZmN,EAAK7B,QACN,qBAAKtL,UAAU,eAAf,SAA+BmN,EAAK/B,aAAapF,KAAI,SAAAkK,GAAQ,OAAI,qBAAKD,WAAW,WAAhB,SAA4BC,YAE/F,sBAAKxP,QAAS,SAACc,GAAO0N,GAAY1N,EAAE,CAAC2L,UAASnN,UAAU,aAAxD,UACE,mBAAGY,MAAM,+BACRuM,EAAKxB,kBAGV,sBAAK3L,UAAU,aAAf,UACGmN,EAAK9B,eAAehF,SAASuD,EAAQ6D,KAClC,sBAAKzN,UAAU,WAAf,UAA0B,mBAAGA,UAAU,qBAAqBU,QAAS,SAACc,GAAOmM,GAAcnM,EAAE,CAAC2L,YAA9F,wBACA,sBAAKnN,UAAU,WAAf,UAA0B,mBAAGA,UAAU,qBAAqBU,QAAS,SAACc,GAAOyM,GAAYzM,EAAE,CAAC2L,YAA5F,wBAEJ,sBAAKzM,QAAS,SAACc,GAAO0N,GAAY1N,EAAE,CAAC2L,UAASnN,UAAU,cAAxD,UAAsE,mBAAGY,MAAM,oCAA/E,kCAEDuM,EAAKN,aACJ,sBAAK7M,UAAU,cAAf,UACE,sBAAKA,UAAU,eAAf,UACE,qBAAKY,MAAM,qBAAqB0D,IAAKsF,EAAQ8D,WAC7C,uBAAO1N,UAAU,eAAeR,SAAUuP,GAAetP,MAAO8K,EAAa/J,YAAY,4DACxF+J,EAAc,wBAAQvK,UAAU,mBAAmBU,QAAS,SAACc,GAAO8L,GAAc9L,EAAE,CAAC2L,UAAvE,SAAgF,qDAAsB,qBAAKnN,UAAU,cAAf,SAA6B,wDAEnJmN,EAAKP,aAAa5G,KAAI,SAAA4F,GAAO,OAC1B,sBAAK5L,UAAU,WAAf,UACE,qBAAKA,UAAU,qBAAf,SAAoC,qBAAKA,UAAU,qBAAqBsE,IAAKsH,EAAQO,YAAa5H,IAAI,mBACtG,sBAAKvE,UAAU,cAAf,UACE,qBAAKA,UAAU,gBAAf,SAAgC4L,EAAQG,aACvCH,EAAQQ,eACL,sBAAKpM,UAAU,iBAAf,UACE,uBAAOA,UAAU,eAAeR,SAAUwP,GAAkBvP,MAAOgL,IACnE,wBAAQzK,UAAU,mBAAmBU,QAAS,SAACc,GAAOyL,GAAiBzL,EAAE,CAAC2L,OAAKvB,aAA/E,SAA2F,kDAE7F,8BAAMA,EAAQI,OAElB,sBAAKhM,UAAU,mBAAf,UAAmC4L,EAAQK,UAAUwC,MAAM,EAAG,GAA9D,UAAoE7C,EAAQK,UAAUwC,MAAM,EAAG,GAA/F,UAAqG7C,EAAQK,UAAUwC,MAAM,EAAE,GAA/H,eAED7C,EAAQE,UAAYlC,EAAQ6D,KAC3B,sBAAKzN,UAAU,kBAAf,UACE,mBAAGA,UAAU,mCACb,sBAAKA,UAAU,wBAAf,UACE,qBAAKA,UAAU,aAAaU,QAAS,SAACc,GAAOsO,GAAWtO,EAAE,CAAC2L,OAAKvB,aAAhE,0BACA,qBAAK5L,UAAU,gBAAgBU,QAAS,SAACc,GAAOqO,GAAcrO,EAAE,CAAC2L,OAAKvB,aAAtE,+CAWduE,GACF,sBAAKnQ,UAAW6J,EAAY,mBAAqB,YAAjD,UACE,qBAAK7J,UAAU,iBAAf,qDACA,0BAAUA,UAAU,WAAWR,SApQhB,SAACgC,GACpBA,EAAE7B,iBACF2K,EAAW9I,EAAErC,OAAOM,QAkQuCA,MAAO4K,EAAa7J,YAAW,yCAAWoJ,EAAQ4D,YAAnB,aACtF,sBAAKxN,UAAU,OAAf,UACE,sBAAKA,UAAU,aAAf,UACE,uBAAOO,KAAK,OAAOqD,GAAG,YAAY5D,UAAU,YAAYoQ,UAAU,EAAM5Q,SAxP7D,SAACP,GAAW,IAGzB4E,EADF5E,EADGE,OAAQ2E,MAEO,GAChBC,EAAS,IAAIC,WACnBD,EAAOE,UAAY,SAACC,GAAmB,IAEnBC,EACdD,EADFE,cAAgBD,OAElB7C,EAAcD,EAAWiF,OAAOnC,KAElCJ,EAAOM,cAAcR,MA8Ob,wBAAOwM,QAAQ,YAAf,UACE,+EACA,mBAAGzP,MAAM,8BAGZS,EAAW+E,OAAS,GACnB/E,EAAW2E,KAAI,SAAAsK,GAAK,OAClB,qBAAKtQ,UAAU,SAASsE,IAAKgM,EAAO/L,IAAI,aAG3ClD,EAAW+E,QAAU,GACpB/E,EAAW2E,KAAI,SAAAsK,GAAK,OAClB,qBAAKtQ,UAAU,SAASsE,IAAKgM,EAAO/L,IAAI,gBAI9C,sBAAKvE,UAAU,UAAf,UACE,wBAAQA,UAAU,eAAeU,QAASoO,GAA1C,0BAGA,wBAAQ9O,UAAU,eAAeU,QAASyN,GAA1C,gCAOFoC,GACJ,sBAAKvQ,UAAU,cAAf,UACE,gCAAM4J,EAAQ4D,YAAd,6CACA,wBAAQxN,UAAU,eAAeU,QAASoO,GAA1C,6BAME0B,GACJ,wBAAQ9P,QAAS1B,GAAeI,KAAK,SAASY,UAAU,eAAxD,6CA8BF,OACE,mCACE,sBAAKA,UAAU,WAAf,UACG2K,GAAa6E,GACbW,GAED,sBAAKnQ,UAAW6J,EAAY,kBAAoB,WAAhD,UACGD,EAAQ4D,YACL,mCAAG+C,KACH,mCAAGC,KAENT,Y,iBCreIU,EApHQ,SAAC,GAA+B,IAA7B/L,EAA4B,EAA5BA,SAAUgM,EAAkB,EAAlBA,YAC5BC,EAAejM,EAASqJ,QAAO,SAAA9H,GAAI,MAAmB,iBAAfA,EAAK/E,QAAiC,iBAAf+E,EAAK/E,UACnE0P,EAAiBlM,EAASqJ,QAAO,SAAA9H,GAAI,MAAoB,iBAAhBA,EAAK/E,UAFA,EAGlB3C,mBAAS,CAAEsS,IAAK,IAHE,mBAG7CC,EAH6C,KAGlCC,EAHkC,OAIdxS,mBAAS,IAJK,mBAI7CyS,EAJ6C,KAIhCC,EAJgC,OAKd1S,mBAAS,gBALK,mBAK7C2S,EAL6C,KAKhCC,EALgC,OAMd5S,mBAAS,IANK,mBAM7C6S,EAN6C,KAMhCC,EANgC,KAQpDtL,qBAAU,WACR,GAAmB,mCAAhB2K,EACDO,EAAeL,EAAenC,MAAM,EAAGqC,EAAUD,WAC5C,GAAmB,6BAAhBH,EAER,OAAOQ,GACL,IAAK,eACHD,EAAeN,GACf,MACF,IAAK,eAEDM,EADCG,EACcT,EAAa5C,QAAO,SAAAuD,GAAE,OAAIA,EAAGxQ,YAAcoC,SAASkO,MAEpDT,GAEjB,MACF,QACEM,EAAeN,MAIpB,CAACD,EAAahM,EAAUoM,EAAWI,EAAaE,IA+BnD,IAAMG,EAAkBP,EAAYhL,KAAI,SAACC,EAAKuL,GAAN,OACtC,sBAAKxR,UAAU,UAAf,UACE,mBAAGA,UAAU,mBAAb,SAAiCwR,EAAQ,IACzC,qBAAKxR,UAAU,YAAf,SAEEiG,EAAKtE,cACL,qBAAK2C,IAAK2B,EAAKtE,cAAe4C,IAAI,gBAClC,qBAAKD,IAAI,kGAAkGC,IAAI,kBAGjH,sBAAKvE,UAAU,cAAf,UACE,sBAAMA,UAAU,SAAhB,SAA0BiG,EAAKhF,SAC/B,gCACE,sBAAMjB,UAAU,cAAhB,SAA+BiG,EAAK7G,OACpC,sBAAMY,UAAU,YAAhB,SAA6BiG,EAAKnF,YAClC,sBAAMd,UAAU,aAAhB,SAA8BiG,EAAKlF,qBAdXyQ,MAyBhC,SAASC,EAAcjQ,GACrB2P,EAAe3P,EAAErC,OAAOyE,IAG1B,IAAM8N,EACJ,qCACE,sBAAK1R,UAAU,sCAAf,UACE,sBAAKA,UAAU,qBAAf,UACE,sBAAMA,UAAU,WAAhB,SAA4BkR,IAC5B,cAAC,IAAD,CAAiBjR,KAAM0R,SAEzB,qBAAI3R,UAAU,iBAAd,UACE,oBAAI4D,GAAG,eAAK5D,UAAU,uBAAuBU,QAAS+Q,EAAtD,0BACA,oBAAI7N,GAAG,eAAK5D,UAAU,uBAAuBU,QAAS+Q,EAAtD,gCAGJ,uBAAOlR,KAAK,OAAOP,UAAU,0BAA0BQ,YAAY,aAAahB,SApBpF,SAAwBgC,GACtB6P,EAAe7P,EAAErC,OAAOM,aAuB1B,OACE,qCACmB,6BAAhBiR,GAA0BgB,EAC3B,qBAAK1R,UAAU,mBAAmB4R,SA7EtC,SAAwBpQ,GACtB,IAAMqQ,EAAmBrQ,EAAErC,OAC3B,GACI0S,EAAiBC,UAAYD,EAAiBE,cAC3CF,EAAiBG,aAEpB,OAAOpB,EAAexK,OAAS0K,EAAUD,KACvC,KAAK,EACH,MACF,KAAK,EACHE,GAAa,SAAAkB,GAAa,kCAASA,GAAT,IAAwBpB,IAAKoB,EAAcpB,IAAM,OAC3E,MACF,KAAK,EACHE,GAAa,SAAAkB,GAAa,kCAASA,GAAT,IAAwBpB,IAAKoB,EAAcpB,IAAM,OAC3E,MACF,KAAK,EACHE,GAAa,SAAAkB,GAAa,kCAASA,GAAT,IAAwBpB,IAAKoB,EAAcpB,IAAM,OAC3E,MACF,KAAK,EACHE,GAAa,SAAAkB,GAAa,kCAASA,GAAT,IAAwBpB,IAAKoB,EAAcpB,IAAM,OAC3E,MACF,QACEE,GAAa,SAAAkB,GAAa,kCAASA,GAAT,IAAwBpB,IAAKoB,EAAcpB,IAAM,SAuDjF,SACGU,QCtCM9H,EAxEI,SAAC,GAAiB,IAE7ByI,EAF4B,EAAdhJ,QAESuF,MAAM,EAAG,GAAGzI,KAAI,SAACsL,EAAIE,GAAL,OAC3C,sBAAKxR,UAAU,OAAf,UACE,sBAAKA,UAAU,MAAf,UAAsBsR,EAAG9O,KAAKiM,MAAM,EAAG,GAAvC,UAA6C6C,EAAG9O,KAAKiM,MAAM,EAAG,GAA9D,UAAoE6C,EAAG9O,KAAKiM,MAAM,GAAlF,YACA,qBAAKzO,UAAU,MAAf,SACyB,IAAtBsR,EAAG/L,QAAQa,OACV,qCACA,sBAAKpG,UAAU,SAAf,UACE,8CACA,sBAAKA,UAAU,aAAf,UACE,sBAAKA,UAAU,cAAf,UACE,sBAAMA,UAAU,eAAhB,SAAgCsR,EAAG/L,QAAQ,KAC3C,sBAAMvF,UAAU,eAAhB,SAAgCsR,EAAG/L,QAAQ,QAE7C,sBAAKvF,UAAU,gBAAf,UACE,uBAAMA,UAAU,kBAAhB,UAAmCsR,EAAGlJ,aAAa,cAAC,IAAD,CAAiBpI,UAAU,YAAYC,KAAMkS,SAChG,uBAAMnS,UAAU,kBAAhB,UAAmCsR,EAAGlJ,aAAa,cAAC,IAAD,CAAiBpI,UAAU,YAAYC,KAAMkS,kBAItG,sBAAKnS,UAAU,QAAf,UACE,uDACA,sBAAKA,UAAU,YAAf,UACE,sBAAKA,UAAU,aAAf,UACE,sBAAMA,UAAU,cAAhB,SAA+BsR,EAAG7L,OAAO,KACzC,sBAAMzF,UAAU,cAAhB,SAA+BsR,EAAG7L,OAAO,QAE3C,sBAAKzF,UAAU,eAAf,UACE,uBAAMA,UAAU,iBAAhB,UAAkCsR,EAAGlJ,aAAa,cAAC,IAAD,CAAiBpI,UAAU,aAAaC,KAAM0R,SAChG,uBAAM3R,UAAU,iBAAhB,UAAkCsR,EAAGlJ,aAAa,cAAC,IAAD,CAAiBpI,UAAU,aAAaC,KAAM0R,qBAMtG,qCACA,sBAAK3R,UAAU,SAAf,UACE,8CACA,sBAAKA,UAAU,aAAf,UACE,qBAAKA,UAAU,cAAf,SACE,sBAAMA,UAAU,eAAhB,SAAgCsR,EAAG/L,QAAQ,OAE7C,qBAAKvF,UAAU,gBAAf,SACE,uBAAMA,UAAU,kBAAhB,UAAmCsR,EAAGlJ,aAAa,cAAC,IAAD,CAAiBpI,UAAU,YAAYC,KAAMkS,iBAItG,sBAAKnS,UAAU,QAAf,UACI,uDACA,sBAAKA,UAAU,YAAf,UACE,qBAAKA,UAAU,aAAf,SACE,sBAAMA,UAAU,cAAhB,SAA+BsR,EAAG7L,OAAO,OAE3C,qBAAKzF,UAAU,eAAf,SACE,uBAAMA,UAAU,iBAAhB,UAAkCsR,EAAGlJ,aAAa,cAAC,IAAD,CAAiBpI,UAAU,aAAaC,KAAM0R,wBApDnFH,MA8D7B,OACE,qBAAKxR,UAAU,QAAf,SACGkS,K,SC8DQE,EAnIS,SAAC,GAAwD,IAAtDC,EAAqD,EAArDA,UAAWC,EAA0C,EAA1CA,OAAQC,EAAkC,EAAlCA,UAAWC,EAAuB,EAAvBA,iBAErD,SAASC,EAAUC,GACf,IAAMC,EAASJ,EAAUK,MAAK,SAAAtB,GAAE,OAAIA,EAAG9O,KAAOkQ,GAAY,KAAKH,EAAUK,MAAK,SAAAtB,GAAE,OAAIA,EAAG9O,KAAOkQ,GAAY,KAAKF,EAAiBxR,aAEhI,MAAqB,kBAAX2R,GAAyC,kBAAXA,EAC7B9L,OAAO8L,GACRA,EAAOpN,QAAQc,SAASmM,EAAiBpT,MACxCuT,EAAO9K,kBAAkB8K,EAAOpN,QAAQsN,QAAQL,EAAiBpT,OAClEuT,EAAOlN,OAAOY,SAASmM,EAAiBpT,MACvCuT,EAAO5K,iBAAiB4K,EAAOlN,OAAOoN,QAAQL,EAAiBpT,YADnE,EAYX,SAASqD,EAAQiQ,GACb,IAAItQ,EAAOsQ,EAASrQ,cAChBC,EAAQoQ,EAASnQ,WAAa,EAC9BuQ,EAAMJ,EAASjQ,UAKnB,OAHAH,EAAQA,GAAS,GAAKA,EAAd,WAA0BA,GAClCwQ,EAAMA,GAAO,GAAKA,EAAZ,WAAsBA,GAEtB,GAAN,OAAU1Q,GAAV,OAAiBE,GAAjB,OAAyBwQ,GAM7B,SAASC,EAAeL,GACpB,MAAM,GAAN,OAAUA,EAASjE,MAAM,EAAG,GAA5B,kBAAmCiE,EAASjE,MAAM,GAAlD,UAGJ,SAASuE,IAGL,OAAOvQ,EAFM,IAAIN,MAKrB,SAAS8Q,EAASH,GACd,IAAMtQ,EAAO,IAAIL,KACX+Q,EAAY1Q,EAAKC,UAIvB,OAFAD,EAAK2Q,QAAQD,EAAYJ,GAElBrQ,EAAQD,GAInB,IAAM4Q,EAAgB,SAACd,GAGnB,IAFA,IAAIe,EAAa,GAET1K,EAAI,EAAGA,EAAI2J,EAAQ3J,IACvB0K,EAAWtT,KAAKgT,EAAeE,EAASX,EAAS3J,KAIrD,OAFA0K,EAAWtT,KAAKgT,EAAeC,MAExBK,GAILC,EAAW,SAAChB,GAGd,IAFA,IAAIiB,EAAQ,GAEJ5K,EAAI,EAAGA,EAAI2J,EAAQ3J,IACvB4K,EAAMxT,KAAK0S,EAAUQ,EAASX,EAAS3J,KAI3C,OAFA4K,EAAMxT,KAAK0S,EAAUO,MAEdO,GAuCX,OACI,cAAC,OAAD,CACI3M,KAAM,CACF4M,OAvCO,WACf,OAAOlB,GACH,IAAK,KAEL,IAAK,KAEL,IAAK,KACD,OAAOc,EAAcd,IAgCbe,GACRI,SAAU,CAAC,CACPC,MAAO,SACP9M,KA7BF,WACV,GAAiB,WAAdyL,EACC,OAAOC,GACH,IAAK,KAEL,IAAK,KAEL,IAAK,KACD,OAAOgB,EAAShB,QAKjBA,EAgBOiB,GACNI,MAAM,EACNC,YAAa,oBACbC,QAAS,MAGjBC,QAAS,CAAEC,qBAAqB,MCvC7BC,EArFQ,SAAC,GAAmB,IAAjBzB,EAAgB,EAAhBA,UAEhBL,EAAcK,EAAUvM,KAAI,SAACsL,EAAIE,GAAL,OAChC,sBAAKxR,UAAU,OAAf,UACE,sBAAKA,UAAU,MAAf,UAAsBsR,EAAG9O,KAAKiM,MAAM,EAAG,GAAvC,UAA6C6C,EAAG9O,KAAKiM,MAAM,EAAG,GAA9D,UAAoE6C,EAAG9O,KAAKiM,MAAM,GAAlF,YACA,qBAAKzO,UAAU,MAAf,SACyB,IAAtBsR,EAAG/L,QAAQa,OACV,qCACA,sBAAKpG,UAAU,SAAf,UACE,8CACA,sBAAKA,UAAU,aAAf,UACE,sBAAKA,UAAU,cAAf,UACE,sBAAMA,UAAU,eAAhB,SAAgCsR,EAAG/L,QAAQ,KAC3C,sBAAMvF,UAAU,eAAhB,SAAgCsR,EAAG/L,QAAQ,QAE7C,sBAAKvF,UAAU,gBAAf,UACE,uBAAMA,UAAU,kBAAhB,UAAmCsR,EAAGlJ,aAAa,cAAC,IAAD,CAAiBpI,UAAU,YAAYC,KAAMkS,SAChG,uBAAMnS,UAAU,kBAAhB,UAAmCsR,EAAGlJ,aAAa,cAAC,IAAD,CAAiBpI,UAAU,YAAYC,KAAMkS,kBAItG,sBAAKnS,UAAU,QAAf,UACE,uDACA,sBAAKA,UAAU,YAAf,UACE,sBAAKA,UAAU,aAAf,UACE,sBAAMA,UAAU,cAAhB,SAA+BsR,EAAG7L,OAAO,KACzC,sBAAMzF,UAAU,cAAhB,SAA+BsR,EAAG7L,OAAO,QAE3C,sBAAKzF,UAAU,eAAf,UACE,uBAAMA,UAAU,iBAAhB,UAAkCsR,EAAGlJ,aAAa,cAAC,IAAD,CAAiBpI,UAAU,aAAaC,KAAM0R,SAChG,uBAAM3R,UAAU,iBAAhB,UAAkCsR,EAAGlJ,aAAa,cAAC,IAAD,CAAiBpI,UAAU,aAAaC,KAAM0R,qBAMtG,qCACA,sBAAK3R,UAAU,SAAf,UACE,8CACA,sBAAKA,UAAU,aAAf,UACE,qBAAKA,UAAU,cAAf,SACE,sBAAMA,UAAU,eAAhB,SAAgCsR,EAAG/L,QAAQ,OAE7C,qBAAKvF,UAAU,gBAAf,SACE,uBAAMA,UAAU,kBAAhB,UAAmCsR,EAAGlJ,aAAa,cAAC,IAAD,CAAiBpI,UAAU,YAAYC,KAAMkS,iBAItG,sBAAKnS,UAAU,QAAf,UACI,uDACA,sBAAKA,UAAU,YAAf,UACE,qBAAKA,UAAU,aAAf,SACE,sBAAMA,UAAU,cAAhB,SAA+BsR,EAAG7L,OAAO,OAE3C,qBAAKzF,UAAU,eAAf,SACE,uBAAMA,UAAU,iBAAhB,UAAkCsR,EAAGlJ,aAAa,cAAC,IAAD,CAAiBpI,UAAU,aAAaC,KAAM0R,wBApDnFH,MA8DvByC,EACJ,qBAAKjU,UAAU,SAAf,SACE,+FAIJ,OACE,mCAEEuS,EAAUnM,OAAS,EACjB,qBAAKpG,UAAU,QAAf,SACGkS,IAGH+B,KCbKC,EArEe,SAAC,GAA0B,IAAxB1B,EAAuB,EAAvBA,iBACvB2B,EAAYC,mBAGlB,SAASC,EAASC,GACd,OAAOA,GAAUnN,KAAKoN,GAAK,KAa/B,SAASC,IACL,OAAOhC,EAAiBpP,SAAWoP,EAAiBrP,SAIxD,SAASsR,EAAgBC,EAAKC,EAAGC,EAAGC,EAAGC,EAAUC,EAAUC,GACvDN,EAAIO,YACJP,EAAIQ,UAAY,GAChBR,EAAIS,YAAc,UAClBT,EAAIU,IAAIT,EAAGC,EAAGC,EAAGC,EAAUC,EAAUC,GACrCN,EAAIW,SAIR,SAASC,EAAcZ,EAAKC,EAAGC,EAAGC,EAAGC,EAAUC,EAAUC,GACrDN,EAAIO,YACJP,EAAIQ,UAAY,GAChBR,EAAIS,YAAc,UAClBT,EAAIU,IAAIT,EAAGC,EAAGC,EAAGC,EAAUC,EAAUC,GACrCN,EAAIW,SAoBR,OAjBAtP,qBAAU,WACN,IACM2O,EADSP,EAAUoB,QACNC,WAAW,OAjClC,SAAkBd,EAAKC,EAAGC,EAAGC,EAAGC,EAAUC,EAAUC,GAChDN,EAAIO,YACJP,EAAIQ,UAAY,EAChBR,EAAIS,YAAc,UAClBT,EAAIU,IAAIT,EAAGC,EAAGC,EAAGC,EAAUC,EAAUC,GACrCN,EAAIW,SA8BJI,CAASf,EAAK,GAAI,GAAI,GAAI,EAAa,EAAVvN,KAAKoN,IAAQ,GAGlB,IAArBC,IACCc,EAAcZ,EAAK,GAAI,GAAI,GAAIL,EAAS,KAAMA,GAAU,KAAK,GAClC,IAArBG,IACNC,EAAgBC,EAAK,GAAI,GAAI,GAAIL,EAAS,KAAMA,GAAU,KAAK,IAE/DI,EAAgBC,EAAK,GAAI,GAAI,GAAIL,EAAS,KAAMA,EAAS,IAAM,IAAMG,MAAmB,GACxFc,EAAcZ,EAAK,GAAI,GAAI,GAAIL,EAAS,KAAMA,EAAS,IAAM,IAAMG,MAAmB,MAE3F,IAGC,qCACI,wBAAQkB,MAAM,MAAMC,OAAO,MAAM9T,IAAKsS,EAAWnU,UAAU,WAC3D,sBAAMA,UAAU,QAAhB,uBACA,sBAAKA,UAAU,aAAf,UACI,uBAAMA,UAAU,eAAhB,UAAgCwS,EAAiBpP,SAAjD,aACA,uBAAMpD,UAAU,gBAAhB,UAAiCwS,EAAiBnP,UAAlD,oBCwBDuS,EAvFe,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,eAAgBrD,EAAuB,EAAvBA,iBACvC2B,EAAYC,mBAQlB,SAAS0B,IACL,IAAMC,EAAwBF,EALnBvP,SAAS0P,MAAK,SAAS9W,EAAG+W,GAAI,OAAOA,EAAEhV,OAAS/B,EAAE+B,UAOvD9B,EAAS4W,EAAUhI,QAAO,SAAAuD,GAAE,OAAIA,EAAGlS,OAASoT,EAAiBpT,QAInE,OAHgB2W,EAAUlD,QAAQ1T,EAAO,IAAM,GAG5B0W,EAAezP,OAStC,SAASiO,EAASC,GACd,OAAOA,GAAUnN,KAAKoN,GAAK,KAe/B,SAASE,EAAgBC,EAAKC,EAAGC,EAAGC,EAAGC,EAAUC,EAAUC,GACvDN,EAAIO,YACJP,EAAIQ,UAAY,GAChBR,EAAIS,YAAc,UAClBT,EAAIU,IAAIT,EAAGC,EAAGC,EAAGC,EAAUC,EAAUC,GACrCN,EAAIW,SAIR,SAASC,EAAcZ,EAAKC,EAAGC,EAAGC,EAAGC,EAAUC,EAAUC,GACrDN,EAAIO,YACJP,EAAIQ,UAAY,GAChBR,EAAIS,YAAc,UAClBT,EAAIU,IAAIT,EAAGC,EAAGC,EAAGC,EAAUC,EAAUC,GACrCN,EAAIW,SAoBR,OAjBAtP,qBAAU,WACN,IACM2O,EADSP,EAAUoB,QACNC,WAAW,OA9BlC,SAAkBd,EAAKC,EAAGC,EAAGC,EAAGC,EAAUC,EAAUC,GAChDN,EAAIO,YACJP,EAAIQ,UAAY,EAChBR,EAAIS,YAAc,UAClBT,EAAIU,IAAIT,EAAGC,EAAGC,EAAGC,EAAUC,EAAUC,GACrCN,EAAIW,SA4BJI,CAASf,EAAK,GAAI,GAAI,GAAI,EAAa,EAAVvN,KAAKoN,IAAQ,GAElB,IAArBuB,IACCrB,EAAgBC,EAAK,GAAI,GAAI,GAAIL,EAAS,KAAMA,GAAU,KAAK,GACpC,IAArByB,IACNR,EAAcZ,EAAK,GAAI,GAAI,GAAIL,EAAS,KAAMA,GAAU,KAAK,IAE7DI,EAAgBC,EAAK,GAAI,GAAI,GAAIL,EAAS,KAAMA,EAAS,IAAO,KAAO,EAAIyB,OAAqB,GAChGR,EAAcZ,EAAK,GAAI,GAAI,GAAIL,EAAS,KAAMA,EAAS,IAAO,KAAO,EAAIyB,OAAqB,MAEnG,IAGC,qCACI,wBAAQJ,MAAM,MAAMC,OAAO,MAAM9T,IAAKsS,EAAWnU,UAAU,WAC3D,sBAAMA,UAAU,QAAhB,uBACA,sBAAKA,UAAU,aAAf,UACI,sBAAMA,UAAU,eAAhB,0BACA,uBAAMA,UAAU,gBAAhB,UA5DDmH,KAAKQ,MAAyB,IAAnBmO,KA4DV,eCkCDI,EA3GI,SAAC,GAAyD,IAAvDL,EAAsD,EAAtDA,eAAgBM,EAAsC,EAAtCA,cAAe3D,EAAuB,EAAvBA,iBAAuB,EACtCjU,mBAAS,UAD6B,mBACjE8T,EADiE,KACtD+D,EADsD,OAE5C7X,mBAAS,MAFmC,mBAEjE+T,EAFiE,KAEzD+D,EAFyD,OAGtC9X,mBAAS,IAH6B,mBAGjEgU,EAHiE,KAGtD+D,EAHsD,KAMxE/D,EAAUyD,MAAK,SAAS9W,EAAG+W,GACvB,OAAOA,EAAEzT,KAAOtD,EAAEsD,QAUtB,IAAM+T,EACF,qCACI,qBAAKvW,UAAU,kBAAf,SACI,qBAAKsE,IAAKkO,EAAiB7Q,cAAe4C,IAAI,qBAElD,gCACI,sBAAMvE,UAAU,eAAhB,SAAgCwS,EAAiBpT,OACjD,uBAAMY,UAAU,qBAAhB,UAAsCwS,EAAiBzR,WAAvD,YACA,uBAAMf,UAAU,iBAAhB,UAAkCwS,EAAiB1R,UAAnD,kBAAmE0R,EAAiBtR,gBAShG,SAASsV,EAAchV,GACnB6U,EAAU7U,EAAErC,OAAOsX,QAAQnE,QAG/B,SAASoE,EAAiBlV,GACtB4U,EAAa5U,EAAErC,OAAOsX,QAAQE,MAGlC,IAAMC,EACF,qCACA,qBAAK5W,UAAU,4BAA4BU,QAAS8V,EAAeK,cAAY,KAA/E,sBACA,qBAAK7W,UAAU,4BAA4BU,QAAS8V,EAAeK,cAAY,KAA/E,sBACA,qBAAK7W,UAAU,4BAA4BU,QAAS8V,EAAeK,cAAY,KAA/E,yBAIEC,EACF,sBAAK9W,UAAU,gCAAf,UACE,sBAAKA,UAAU,qBAAf,UACE,sBAAMA,UAAU,WAAhB,SAA0C,WAAdqS,EAAyB,eAAO,iBAC5D,cAAC,IAAD,CAAiBpS,KAAM0R,SAEzB,qBAAI3R,UAAU,iBAAd,UACE,oBAAIA,UAAU,uBAAuBU,QAASgW,EAAkBK,YAAU,SAA1E,0BACA,oBAAI/W,UAAU,uBAAuBU,QAASgW,EAAkBK,YAAU,UAA1E,gCAqBR,OAhBAhR,qBAAU,WACN7H,EAAUoF,WAAW,QAAQC,IAAIiP,EAAiBpT,MAAMkE,WAAW,eAAekD,MAAMC,MAAK,SAACuQ,GAC1FA,EAAcrQ,SAAQ,SAACpD,GACnB,IAAM0T,EAAe,CACjBzU,KAAMe,EAAIqD,OAAOpE,KACjBuF,iBAAkBxE,EAAIqD,OAAOmB,iBAC7BtC,OAAQlC,EAAIqD,OAAOnB,OACnB2C,aAAc7E,EAAIqD,OAAOwB,aACzBP,kBAAmBtE,EAAIqD,OAAOiB,kBAC9BtC,QAAShC,EAAIqD,OAAOrB,SAExB+Q,GAAa,SAAA/D,GAAS,4BAAQA,GAAR,CAAmB0E,eAGlD,CAACzE,IAGA,sBAAKxS,UAAU,kBAAf,UACI,sBAAKA,UAAU,MAAf,UACI,qBAAKA,UAAU,YAAf,SACKuW,IAEL,qBAAKvW,UAAU,8BAAf,SACI,cAAC,EAAD,CAAuBwS,iBAAkBA,MAE7C,qBAAKxS,UAAU,8BAAf,SACI,cAAC,EAAD,CAAuB6V,eAAgBA,EAAgBrD,iBAAkBA,SAGjF,sBAAKxS,UAAU,SAAf,UACI,sBAAKA,UAAU,eAAf,UACK4W,EACAE,EACD,cAAC,EAAD,CAAiBzE,UAAWA,EAAWC,OAAQA,EAAQuD,eAAgBA,EAAgBrD,iBAAkBA,EAAkBD,UAAWA,OAE1I,qBAAKvS,UAAU,gBAAf,SACI,cAAC,EAAD,CAAgBuS,UAAWA,SAGnC,cAAC,IAAD,CAAiBtS,KAAMiX,IAASlX,UAAU,QAAQU,QAxE1D,WACIyV,GAAc,UC8BPgB,EApEE,SAAC,GAAkB,IAAhBzS,EAAe,EAAfA,SACZmR,EAAc,YAAOnR,GAC3BmR,EAAeG,MAAK,SAAS9W,EAAG+W,GAC9B,OAAG/W,EAAE8D,KAAOiT,EAAEjT,KAAa,EACnB9D,EAAE8D,KAAOiT,EAAEjT,MAAc,EACrB,KALmB,MAOHzE,mBAAS,IAPN,mBAO1B6Y,EAP0B,KAOjBC,EAPiB,OAQG9Y,oBAAS,GARZ,mBAQ1B+Y,EAR0B,KAQdnB,EARc,OASG5X,mBAAS,IATZ,mBAS1BgZ,EAT0B,KASdC,EATc,OAUejZ,mBAAS,IAVxB,mBAU1BiU,EAV0B,KAURiF,EAVQ,KAYjC,SAASC,EAAWlW,GAClBiW,EAAoB5B,EAAejD,MAAK,SAAAtB,GAAE,OAAIA,EAAGlS,OAASoC,EAAErC,OAAOsX,QAAQrX,SAC3E+W,GAAc,GAGhB,IAAMwB,EAAWP,EAAQpR,KAAI,SAACC,EAAKuL,GAAN,OAC3B,sBAAKxR,UAAU,WAAf,UACE,8BACE,qBAAKA,UAAU,YAAYsE,IAAK2B,EAAKtE,cAAejB,QAASgX,EAAYE,YAAW3R,EAAK7G,KAAMmF,IAAI,sBAErG,sBAAKvE,UAAU,oBAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,gCACE,sBAAMA,UAAU,cAAhB,SAA+BiG,EAAK7G,OACpC,sBAAMY,UAAU,aAAhB,SAA8BiG,EAAK/E,YAErC,sBAAKlB,UAAU,WAAf,UACE,sBAAKA,UAAU,aAAf,UAA6BiG,EAAK7C,SAAlC,YACA,sBAAKpD,UAAU,aAAf,UAA6BiG,EAAK5C,UAAlC,kBAGJ,sBAAKrD,UAAU,qBAAf,UACE,uBAAMA,UAAU,SAAhB,iCAA+BiG,EAAKhF,UACpC,sBAAMjB,UAAU,aAAhB,SAA8BiG,EAAKlF,qBAjBVyQ,MAqCjC,OAVAzL,qBAAU,WAENsR,EADCE,EACU1B,EAAe9H,QAAO,SAAAuD,GAAE,OAAIA,EAAGlS,OAASmY,KAExC1B,EAAeG,MAAK,SAAS9W,EAAE+W,GACxC,OAAO/W,EAAE8D,KAAOiT,EAAEjT,MAAQ,EAAI9D,EAAE8D,KAAOiT,EAAEjT,KAAO,EAAG,QAGtD,CAACuU,IAGF,qCACE,uBAAOhX,KAAK,OAAOP,UAAU,eAAeQ,YAAY,eAAehB,SAhB3E,SAAwBgC,GACtBgW,EAAchW,EAAErC,OAAOM,UAgBrB,sBAAKO,UAAU,mBAAf,UACE,qBAAKA,UAAU,WAAf,SACG2X,IAEFL,GAAc,cAAC,EAAD,CAAYnB,cAAeA,EAAeN,eAAgBA,EAAgBrD,iBAAkBA,WCHpGqF,G,OAtDI,SAAC,GAAkC,IAAjCjO,EAAgC,EAAhCA,QAASlF,EAAuB,EAAvBA,SAAUwE,EAAa,EAAbA,QAAa,EACb3K,mBAAS,kCADI,mBAC5CmS,EAD4C,KAC/BoH,EAD+B,KAG7CC,EAAgB,SAAAvW,GACpBA,EAAE7B,iBACFmY,EAAetW,EAAErC,OAAOyE,KAG1B,OACE,qBAAK5D,UAAU,MAAf,SACE,sBAAKA,UAAU,mBAAf,UACE,sBAAKA,UAAU,MAAf,UACM,+BACE,oBAAI4D,GAAG,iCAAQlD,QAASqX,EAAxB,6CACA,oBAAInU,GAAG,2BAAOlD,QAASqX,EAAvB,uCACA,oBAAInU,GAAG,uCAASlD,QAASqX,EAAzB,mDACA,oBAAInU,GAAG,qBAAMlD,QAASqX,EAAtB,mCAYF,mCACI,mBAAG/X,UAAU,cAAb,iCACA,mBAAGA,UAAU,cAAb,4CAGV,sBAAKA,UAAU,aAAf,UACG,CAAC,iCAAQ,4BAAQqG,SAASqK,IAAgB,cAAC,EAAD,CAAgBxH,QAASA,EAASxE,SAAUA,EAAUgM,YAAaA,EAAaoH,eAAgBA,IAC5H,yCAAdpH,GAA0B,cAAC,EAAD,CAAUhM,SAAUA,IAChC,uBAAdgM,GAAuB,cAAC,EAAD,CAAM9G,QAASA,QAGxC,CAAC,uCAAU,sBAAOvD,SAASqK,IAC5B,sBAAK1Q,UAAU,QAAf,UACE,qBAAKA,UAAU,SAAf,SACE,cAAC,EAAD,CAAYkJ,QAASA,MAEvB,qBAAKlJ,UAAU,SAAf,SACE,oDCkBGgY,EA9DG,SAAC,GAAiB,IAAfpO,EAAc,EAAdA,QAAc,EACDrL,mBAAS,IADR,mBAC1BmG,EAD0B,KAChBuT,EADgB,OAEH1Z,mBAAS,IAFN,mBAE1B2K,EAF0B,KAEjBgP,EAFiB,KA0CjC,OAvCAnS,qBAAU,WACR7H,EAAUoF,WAAW,QAAQ2H,QAAQ,SAAS,QAAQzE,MAAMC,MAAK,SAAAC,GAC/DA,EAASyE,KAAKnF,KAAI,SAAAzC,GAChB,IAAM4U,EAAa,CACjB/Y,KAAKmE,EAAIqD,OAAOxH,KAChB6B,OAAOsC,EAAIqD,OAAO3F,OAClBD,aAAcuC,EAAIqD,OAAO5F,aACzBmC,SAASI,EAAIqD,OAAOzD,SACpBC,SAASG,EAAIqD,OAAOxD,SACpBC,UAAUE,EAAIqD,OAAOvD,UACrBvC,UAAUyC,EAAIqD,OAAO9F,UACrBC,WAAWwC,EAAIqD,OAAO7F,WACtBG,OAAQqC,EAAIqD,OAAO1F,OACnB8B,KAAKO,EAAIqD,OAAO5D,KAChBrB,cAAc4B,EAAIqD,OAAOjF,eAE3BsW,GAAY,SAAAvT,GAAQ,4BAAQA,GAAR,CAAkByT,eAGzC,IAEHpS,qBAAU,WACR7H,EAAUoF,WAAW,QAAQ2H,QAAQ,aAAa,QAAQC,MAAM,IAAI1E,MAAMC,MAAK,SAAAC,GAC7EA,EAASyE,KAAKnF,KAAI,SAAAzC,GAChB,IAAM6U,EAAa,CACjB7S,QAAShC,EAAIqD,OAAOrB,QACpBE,OAAQlC,EAAIqD,OAAOnB,OACnB2C,aAAc7E,EAAIqD,OAAOwB,aACzBd,WAAY/D,EAAIqD,OAAOU,WACvB9E,KAAMe,EAAIqD,OAAOpE,KACjBQ,KAAMO,EAAIqD,OAAOyB,WACjBzE,GAAIL,EAAIqD,OAAOpE,KAAK,IAAIe,EAAIqD,OAAOyB,WACnCR,kBAAmBtE,EAAIqD,OAAOiB,kBAC9BE,iBAAkBxE,EAAIqD,OAAOmB,kBAE/BmQ,GAAW,SAAAhP,GAAO,4BAAQA,GAAR,CAAiBkP,eAGtC,IAED,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAO,IAApB,SACE,cAAC,EAAD,CAAY5T,SAAUA,EAAUwE,QAASA,EAASU,QAASA,MAE7D,cAAC,IAAD,UACGA,EAAQ4D,YACT,cAAC,IAAD,CAAO8K,KAAK,SAAZ,SACE,cAAC,EAAD,CAAW1O,QAASA,EAAUlF,SAAUA,EAAUwE,QAASA,MAG3D,cAAC,IAAD,CAAOmP,OAAK,EAACC,KAAO,SAApB,SACE,cAAC,EAAD,YCZGC,MA9Cf,WACE,IAAMtS,EAAOjI,EAAYwa,YADZ,EAEWja,oBAAS,GAFpB,mBAENka,EAFM,KAEAC,EAFA,OAGiBna,mBAAS,CAACiP,YAAa,OAHxC,mBAGN5D,EAHM,KAGG+O,EAHH,KAgCb,OA5BA5S,qBAAW,WACT/H,EAAY4a,oBAAmB,SAAC3S,GAC3BA,EACD0S,EAAW,CACTnL,YAAavH,EAAKuH,YAClBC,IAAKxH,EAAKwH,IACVC,SAAUzH,EAAK4S,WAGjB7a,EAAY8a,oBACXC,OAAM,SAACna,GACN2P,QAAQC,IAAI5P,EAAMoa,MAClBzK,QAAQC,IAAI5P,EAAMkB,YAGtB4Y,GAAQ,QAET,IAYD,mCACGD,EACC,cAAC,EAAD,CACEQ,YAZY,WAClBN,EAAW3a,EAAYwa,aACvBG,EAAW,CACTnL,YAAavH,EAAKuH,YAClBC,IAAKxH,EAAKwH,IACVyL,cAAe,SAACC,GAAD,OAAUlT,EAAKiT,cAAcC,OAQxCC,WAAYC,QAAQzP,GACpBA,QAASA,IAGT,qBCvCV0P,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,U","file":"static/js/main.08a20d50.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_ODOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGINGSENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n  measurementId: process.env.REACT_APP_MEASUREMENT_ID\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nexport const firebaseInstance = firebase;\r\nexport const authService = firebase.auth();\r\nexport const dbService = firebase.firestore();\r\nexport const storageService = firebase.storage();","import { authService,firebaseInstance } from \"../fbase\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport React, { useState } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTwitter, faGoogle } from \"@fortawesome/free-brands-svg-icons\";\r\n\r\nconst Auth = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  const onSocialClick = async(event) => {\r\n    const {target:{name},\r\n    } = event;\r\n    let provider;\r\n    if(name === \"google\") {\r\n      provider = new firebaseInstance.auth.GoogleAuthProvider();\r\n    }\r\n    await authService.signInWithPopup(provider);\r\n  };\r\n\r\n  const onChange = (event) => {\r\n    const {target: {name, value}} = event;\r\n    if(name === \"email\"){\r\n      setEmail(value)\r\n    } else if (name === \"password\") {\r\n      setPassword(value)\r\n    }\r\n  };\r\n  const onSubmit = async(event) => {\r\n    event.preventDefault();\r\n    await authService.signOut();\r\n    try {\r\n      let data;\r\n        data = await authService.signInWithEmailAndPassword(email, password)\r\n  \r\n    } catch(error){\r\n      setError(error.message);\r\n    }\r\n    history.push(\"/\")\r\n  };\r\n\r\n  return(\r\n    <div className=\"authContainer\">\r\n      <FontAwesomeIcon\r\n        icon={faGoogle}\r\n        color={\"#04AAFF\"}\r\n        size=\"3x\"\r\n        style={{ marginBottom: 30 }}\r\n      />\r\n      <div> 구글 로그인만 가능 밑에 Continue with Google 클릭하셈</div>\r\n      <form onSubmit={onSubmit} className=\"container\">\r\n        <input \r\n        name = \"email\" \r\n        type=\"email\" \r\n        placeholder=\"Email\" \r\n        required \r\n        value={email}\r\n        onChange={onChange}\r\n        className=\"authInput\"/>\r\n\r\n        <input \r\n        name = \"password\" \r\n        type=\"password\" \r\n        placeholder=\"Password\" \r\n        required \r\n        value={password}\r\n        onChange={onChange}\r\n        className=\"authInput\"/>\r\n\r\n        <input \r\n          className=\"authInput authSubmit\"\r\n          type=\"submit\" \r\n          value=\"Log In\">\r\n        </input>\r\n        {error && <span className=\"authError\">{error}</span>}\r\n      </form>\r\n      <div className=\"authBtns\">\r\n        <button onClick={onSocialClick} name=\"google\" className=\"authBtn\">\r\n          Continue with Google <FontAwesomeIcon icon={faGoogle} />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Auth;","import React from 'react';\r\nimport { authService } from \"../../fbase\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\n\r\nconst Header = () => {\r\n  const history = useHistory();\r\n  const onLogOutClick = () => {\r\n    authService.signOut();\r\n    history.push(\"/\")\r\n  };\r\n  return (\r\n    <div className=\"header\">\r\n      <span className=\"headerText\">KOTC 랭킹시스템 관리자 페이지</span>\r\n      <i class=\"fas fa-sign-out-alt fa-2x logout needMargin\"  onClick={onLogOutClick}></i>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { React, useState } from 'react';\r\nimport { Form, Input, Button } from 'reactstrap';\r\nimport { dbService, storageService } from '../../fbase';\r\n\r\nconst CreateUser = () => {\r\n  const [inputs, setInputs] = useState({\r\n    name: '',\r\n    studentid:'',\r\n    department:'',\r\n    start_rating:'',\r\n    rating:'',\r\n    status:'재학'\r\n  });\r\n  const [attachment, setAttachment] = useState(\"\");\r\n\r\n\r\n  const { name, studentid, department, start_rating, status} = inputs;\r\n\r\n  const handleChange = (e) => {\r\n    const {value, name} = e.target;\r\n    setInputs({\r\n      ...inputs,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  const userMakeSubmit = async(e) => {\r\n    e.preventDefault();\r\n    if(name === ''){\r\n      alert(\"이름을 입력하세요\")\r\n      return;\r\n    }\r\n    if(studentid === ''){\r\n      alert(\"학번을 입력하세요\")\r\n      return;\r\n    }\r\n    if(department === ''){\r\n      alert(\"학과를 입력하세요\")\r\n      return;\r\n    }\r\n    if(start_rating === ''){\r\n      alert(\"초기 레이팅을 입력하세요\")\r\n      return;\r\n    }\r\n    if(status === ''){\r\n      alert(\"재학상태를 입력하세요\")\r\n      return;\r\n    }\r\n    let attachmentUrl = \"\";\r\n    if(attachment !== \"\"){\r\n      const attachmentRef = storageService.ref().child('userprofile').child(name);\r\n      const response = await attachmentRef.putString(attachment, \"data_url\");\r\n      attachmentUrl = await response.ref.getDownloadURL();\r\n    }\r\n    \r\n    let now = new Date();   \r\n    let year = now.getFullYear(); // 년도\r\n    let month = now.getMonth() + 1;  // 월\r\n    if(month<10){\r\n      month = 0+''+month\r\n    }\r\n    let date = now.getDate();  // 날짜\r\n    if(date<10){\r\n      date = 0+''+date\r\n    }\r\n    let hours = now.getHours(); // 시\r\n    if(hours<10){\r\n      hours = 0+''+hours\r\n    }\r\n    let minutes = now.getMinutes();  // 분\r\n    if(minutes<10){\r\n      minutes = 0+''+minutes\r\n    }\r\n    let seconds = now.getSeconds();  // 초\r\n    if(seconds<10){\r\n      seconds = 0+''+seconds\r\n    }\r\n    const time = (year + '' + month + '' + date + '' + hours + '' + minutes + '' + seconds)\r\n\r\n    const userProfile = {\r\n      name: name,\r\n      studentid: parseInt(studentid),\r\n      department: department,\r\n      start_rating: parseInt(start_rating),\r\n      rating: parseInt(start_rating),\r\n      status: status,\r\n      time:time,\r\n      attachmentUrl,\r\n      game_all:0,\r\n      game_win:0,\r\n      game_lose:0,\r\n    }\r\n    await dbService.collection(\"user\").doc(name).set(userProfile);\r\n\r\n    setAttachment(\"\");\r\n    setInputs({\r\n      name: '',\r\n      studentid:'',\r\n      department:'',\r\n      start_rating:'',\r\n      rating:'',\r\n      status:'재학'\r\n    })\r\n  };\r\n\r\n  const onClearAttachment = () => setAttachment(\"\");\r\n\r\n  const onFileChange = (event) => {\r\n    const {target:{files},\r\n    } = event;\r\n    const theFile = files[0];\r\n    const reader = new FileReader();\r\n    reader.onloadend = (finishedEvent) => {\r\n      const {\r\n        currentTarget: {result},\r\n      } = finishedEvent;\r\n      setAttachment(result)\r\n    }\r\n    reader.readAsDataURL(theFile);\r\n  };\r\n  \r\n  const userMaker = (\r\n    <div className='userMaker'>\r\n      <Form className=\"noteWriter\">\r\n        <div className=\"userProfileImage\">\r\n          <span>프사</span>\r\n          <Input type=\"file\" name=\"file\" id=\"exampleFile\" onChange={onFileChange}/>\r\n        </div>\r\n        {attachment && (\r\n        <div className=\"factoryForm__attachment\">\r\n          <img className=\"profileImg\" src={attachment} alt=\"profile image\"/>\r\n          <div className=\"factoryForm__clear\" onClick={onClearAttachment}>\r\n            <span>Remove</span>\r\n          </div>\r\n        </div>\r\n      )}\r\n        <div className=\"needMargin\">\r\n          <span>이름</span>\r\n          <Input type=\"text\" name='name' onChange={handleChange} value={name}/>\r\n        </div>\r\n        <div className=\"needMargin\">\r\n          <span>학번</span>\r\n          <Input type=\"text\" name='studentid' onChange={handleChange} value={studentid}/>\r\n        </div>\r\n        <div className=\"needMargin\">\r\n          <span>학과</span>\r\n          <Input type=\"text\" name='department' onChange={handleChange} value={department}/>\r\n        </div>\r\n        <div className=\"needMargin\">\r\n          <span>초기레이팅</span>\r\n          <Input type=\"text\" name='start_rating' onChange={handleChange} value={start_rating}/>\r\n        </div>\r\n        <div className=\"needMargin\">\r\n          <span>상태</span>\r\n          <Input type=\"select\" name='status' onChange={handleChange} value={status}>\r\n            <option>재학</option>\r\n            <option>졸업</option>\r\n            <option>휴학</option>\r\n            <option>외부인</option>\r\n          </Input>\r\n        </div>\r\n        <Button className=\"needMargin\" onClick={userMakeSubmit}>전송</Button>\r\n      </Form>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"ShortBox\">\r\n      {userMaker}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateUser;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"react-datepicker/dist/react-datepicker.css\"\r\nimport 'react-datepicker/dist/react-datepicker-cssmodules.min.css'\r\nimport { Form, Input, Button } from 'reactstrap';\r\nimport DatePicker from \"react-datepicker\";\r\nimport { dbService } from '../../fbase';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\n\r\nconst RegiMatch = ({allUsers}) => {\r\n  const increment = firebase.firestore.FieldValue.increment(1);\r\n  const [searchWinner,setSearchWinner] = useState(\"\");\r\n  const [winnersRating, setWinnersRating] = useState([]);\r\n  const [searchLoser,setSearchLoser] = useState(\"\");\r\n  const [losersRating, setLosersRating] = useState([]);\r\n  const [gameUser, setGameUser] = useState(\"\");\r\n  const [winners, setWinners] = useState([]);\r\n  const [losers, setLosers] = useState([]);\r\n  const [startDate, setStartDate] = useState(new Date());\r\n  const [allUserList, setAllUserList] = useState([])\r\n\r\n  useEffect(() => {\r\n    allUsers.map(user => {\r\n      setAllUserList(allUserList => [...allUserList, user.name])\r\n    })\r\n  }, [allUsers])\r\n\r\n  const stateInit = () => {\r\n    setSearchWinner('');\r\n    setSearchLoser('');\r\n    setWinners([]);\r\n    setLosers([]);\r\n    setGameUser([]);\r\n    setWinnersRating([]);\r\n    setLosersRating([]);\r\n  }\r\n\r\n  const winnerChange = e => {\r\n    if (e.key === 'Enter') {\r\n      e.preventDefault();\r\n      if(winners.length>=2){\r\n        alert('2명이하만')\r\n        setSearchWinner('');\r\n        return;\r\n      } else {  //2명 이하이고\r\n        if(allUserList.includes(searchWinner)){  //유저목록에 있으면\r\n          if(gameUser.includes(searchWinner)){  //이면서 들어가있으면 안됨\r\n            alert(\"이미 등록된 유저입니다\")\r\n            setSearchWinner('');\r\n            return;\r\n          } else {\r\n            setWinners(winners.concat(searchWinner))\r\n            setGameUser(gameUser.concat(searchWinner))\r\n            dbService.collection(\"user\").where(\"name\",\"==\",searchWinner).get().then((snapshot) => {\r\n              snapshot.forEach((doc) => {\r\n                setWinnersRating(winnersRating.concat(doc.data().rating));\r\n              })\r\n            })\r\n            setSearchWinner('');  \r\n          }  \r\n            \r\n        } else if(Number.isInteger(parseInt(searchWinner))){\r\n          setWinners(winners.concat(searchWinner))\r\n          setSearchWinner('');\r\n          setWinnersRating(winnersRating.concat(Number(searchWinner)));  \r\n\r\n        } else { //등록된 유저가 아니면\r\n          alert('등록된 유저가 아닙니다')\r\n          setSearchWinner('');\r\n        }\r\n      }\r\n    } else { \r\n      setSearchWinner(e.target.value);\r\n    }\r\n  };\r\n\r\n  const loserChange = e => {\r\n    if (e.key === 'Enter') {\r\n      e.preventDefault();\r\n      if(losers.length>=2){\r\n        alert('2명이하만')\r\n        setSearchLoser('');\r\n        return;\r\n      } else {  //2명 이하이고\r\n        if(allUserList.includes(searchLoser)){  //유저목록에 있으면\r\n          if(gameUser.includes(searchLoser)){\r\n            alert(\"이미 등록된 유저입니다\")\r\n            setSearchLoser('');\r\n            return;\r\n          } else {\r\n            setGameUser(gameUser.concat(searchLoser))\r\n            setLosers(losers.concat(searchLoser))\r\n            dbService.collection(\"user\").where(\"name\",\"==\",searchLoser).get().then((snapshot) => {\r\n              snapshot.forEach((doc) => {\r\n                setLosersRating(losersRating.concat(doc.data().rating));\r\n              })\r\n            })\r\n            setSearchLoser('');\r\n          }\r\n\r\n        } else if(Number.isInteger(parseInt(searchLoser))){\r\n          setLosers(losers.concat(searchLoser))\r\n          setSearchLoser('');\r\n          setLosersRating(losersRating.concat(Number(searchLoser)));\r\n        } else { //등록된 유저가 아니면\r\n          alert('등록된 유저가 아닙니다')\r\n          setSearchLoser('');\r\n        }\r\n      }\r\n    } else { \r\n      setSearchLoser(e.target.value);\r\n    }\r\n  };\r\n\r\n  const matchSubmit = async(e) => {\r\n    e.preventDefault();\r\n    let winnerAverageRating = winnersRating[0];\r\n    let loserAverageRating = losersRating[0];\r\n    if(winnersRating.length==2){\r\n      winnerAverageRating = (Math.max(winnersRating[0],winnersRating[1])+2*Math.min(winnersRating[0],winnersRating[1]))/3\r\n    }\r\n    if(losersRating.length==2){\r\n      loserAverageRating = (Math.max(losersRating[0],losersRating[1])+2*Math.min(losersRating[0],losersRating[1]))/3\r\n    }\r\n    const percentage = (1/(1+(Math.pow(10,(loserAverageRating-winnerAverageRating)/400)))).toFixed(2)\r\n    const reversePercentage = (1-percentage).toFixed(2)\r\n    let RatingChange=0\r\n    if(winnersRating.length==2){\r\n      RatingChange = Math.round(reversePercentage*16)\r\n    } else {\r\n      RatingChange = Math.round(reversePercentage*32)\r\n    }\r\n    if(winners.length===0){\r\n      alert('승자를 입력하세요');\r\n      return;\r\n    }\r\n    if(losers.length===0){\r\n      alert('패자를 입력하세요');\r\n      return;\r\n    }\r\n    if(winners.length !== losers.length){\r\n      alert(\"인원을 맞추시오\");\r\n      return;\r\n    }\r\n\r\n    let now = new Date();   \r\n    let year = now.getFullYear(); // 년도\r\n    let month = now.getMonth() + 1;  // 월\r\n    if(month<10){\r\n      month = 0+''+month\r\n    }\r\n    let date = now.getDate();  // 날짜\r\n    if(date<10){\r\n      date = 0+''+date\r\n    }\r\n    let hours = now.getHours(); // 시\r\n    if(hours<10){\r\n      hours = 0+''+hours\r\n    }\r\n    let minutes = now.getMinutes();  // 분\r\n    if(minutes<10){\r\n      minutes = 0+''+minutes\r\n    }\r\n    let seconds = now.getSeconds();  // 초\r\n    if(seconds<10){\r\n      seconds = 0+''+seconds\r\n    }\r\n    const time = (year + '' + month + '' + date + '' + hours + '' + minutes + '' + seconds)\r\n\r\n    year = startDate.getFullYear(); // 년도\r\n    month = startDate.getMonth() + 1;  // 월\r\n    if(month<10){\r\n      month = 0+''+month\r\n    }\r\n    date = startDate.getDate();  // 날짜\r\n    if(date<10){\r\n      date = 0+''+date\r\n    }\r\n    const matchDate = (year + '' + month + '' + date)\r\n\r\n    let winnerRatingAfter = winnersRating.map(winner => winner + RatingChange)\r\n    let loserRatingAfter = losersRating.map(loser => loser - RatingChange)\r\n\r\n    const match = {\r\n      winners: winners,\r\n      winnerRatingBefore: winnersRating,\r\n      winnerRatingAfter: winnerRatingAfter,\r\n      losers: losers,\r\n      loserRatingBefore: losersRating,\r\n      loserRatingAfter: loserRatingAfter,\r\n      percentage: Math.round(percentage*100),\r\n      ratingChange: RatingChange,\r\n      date: matchDate,\r\n      write_time: time\r\n    }\r\n\r\n    if(percentage==NaN){\r\n      alert(\"percentage is never NaN\");\r\n      return;\r\n    }\r\n\r\n    await dbService.collection(\"game\").doc(matchDate+'-'+time).set(match);\r\n    \r\n    await winners.map(winner => {\r\n      dbService.collection(\"user\").doc(winner).collection(\"game_record\").doc(matchDate+'-'+time).set(match)\r\n      dbService.collection(\"user\").doc(winner).update({\r\n        rating: winnersRating.shift() + RatingChange,\r\n        game_all: increment,\r\n        game_win: increment\r\n      })\r\n    })\r\n    await losers.map(loser => {\r\n      dbService.collection(\"user\").doc(loser).collection(\"game_record\").doc(matchDate+'-'+time).set(match)\r\n      dbService.collection(\"user\").doc(loser).update({\r\n        rating: losersRating.shift() - RatingChange,\r\n        game_all: increment,\r\n        game_lose: increment\r\n      })\r\n    })\r\n    stateInit();\r\n  }\r\n\r\n\r\n  const regiMatch = (\r\n    <div className='userMaker'>\r\n      <Form className=\"noteWriter\">\r\n        <div className=\"matchResult\">\r\n          <span>\r\n            <div>승</div>\r\n            <Input type=\"text\" name='win' value={searchWinner} onChange={winnerChange} onKeyPress={winnerChange}/>\r\n            <div className=\"users playerView\">\r\n              {winners.map(i => (\r\n                <span className=\"targetUser\">{i}</span>\r\n              ))}\r\n            </div>\r\n          </span>\r\n          <span className=\"versus\"> VS </span>\r\n          <span>\r\n            <div>패</div>\r\n            <Input type=\"text\" name='lose' value={searchLoser} onChange={loserChange} onKeyPress={loserChange}/>\r\n            <div className=\"users\">\r\n              <div className=\"flexWrap\">\r\n                {losers.map(i => (\r\n                  <span className=\"targetUser\">{i}</span>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </span>\r\n        </div>\r\n        <div className=\"datepicker\">\r\n          <span className=\"needMargin\">시합일</span>\r\n          <DatePicker selected={startDate} onChange={date => setStartDate(date)} />\r\n        </div>\r\n        <Button className=\"needMargin\" onClick={matchSubmit}>전송</Button>\r\n      </Form>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"ShortBox\">\r\n      {regiMatch}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegiMatch;\r\n","import { React } from 'react';\r\nimport { Toast, ToastHeader } from 'reactstrap';\r\n\r\nconst UserList = ({allUsers}) => {\r\n\r\n  const RecentUser = allUsers.map(user => (\r\n    <Toast>\r\n      <ToastHeader>\r\n        <div className=\"spaceBetween\">\r\n          <div>{user.name}__</div>\r\n          <div>{user.status}</div>\r\n        </div>\r\n      </ToastHeader>\r\n      <div className=\"needMargin spaceBetween\">\r\n        <div>학번 : {user.studentid}</div>\r\n        <div>학과 : {user.department}</div>\r\n      </div>\r\n      <div className=\"needMargin spaceBetween\">\r\n        <div>Rating : {user.rating}</div>\r\n        <div>전적 : {user.game_win}승 {user.game_lose}패</div>\r\n      </div>\r\n    </Toast>\r\n  ))\r\n\r\n  return (\r\n    <div className=\"LongBox\">\r\n      {RecentUser}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserList;\r\n","import { React, useEffect, useState } from 'react';\r\nimport { Toast, ToastHeader } from 'reactstrap';\r\nimport { dbService } from '../../fbase';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\n\r\nconst MatchList = ({allGame}) => {\r\n\r\n  const deleteClick = async(e) => {\r\n    let winTeam = []\r\n    let loseTeam = []\r\n    let changedRating = 0\r\n    allGame.map(game => {\r\n      if(game.id == e.target.id){\r\n        winTeam=winTeam.concat(game.winners)\r\n        loseTeam=loseTeam.concat(game.losers)\r\n        changedRating =game.ratingChange\r\n      }\r\n    })\r\n\r\n    await winTeam.map(winner => {\r\n      dbService.collection(\"user\").doc(winner).collection(\"game_record\").doc(e.target.id).delete()\r\n      dbService.collection(\"user\").doc(winner).update({\r\n        rating:firebase.firestore.FieldValue.increment(-changedRating),\r\n        game_all:firebase.firestore.FieldValue.increment(-1),\r\n        game_win:firebase.firestore.FieldValue.increment(-1)\r\n      })\r\n    })\r\n\r\n    await loseTeam.map(loser => {\r\n      dbService.collection(\"user\").doc(loser).collection(\"game_record\").doc(e.target.id).delete()\r\n      dbService.collection(\"user\").doc(loser).update({\r\n        rating:firebase.firestore.FieldValue.increment(changedRating),\r\n        game_all:firebase.firestore.FieldValue.increment(-1),\r\n        game_lose:firebase.firestore.FieldValue.increment(-1)\r\n      })\r\n    })\r\n    await dbService.collection(\"game\").doc(e.target.id).delete()\r\n    alert(e.target.id+' 를 삭제했습니다')\r\n  }\r\n\r\n  const RecentGame = allGame.map(game => (\r\n    <div className=\"displayFlex\">\r\n      <Toast>\r\n        <ToastHeader>\r\n          {game.winners.map(i => (\r\n          <span className=\"targetUser\">{i}</span>\r\n          ))}\r\n          vs \r\n          {game.losers.map(i => (\r\n          <span className=\"targetUser\">{i}</span>\r\n          ))}\r\n        </ToastHeader>\r\n        <div className=\"needMargin flexWrap spaceBetween\">\r\n          <div>레이팅변화 : {game.ratingChange}</div>\r\n          <div>승률예측 : {game.percentage}%</div>\r\n        </div>\r\n        <div className=\"needMargin flexWrap spaceBetween\">\r\n          등록시각 : {game.time}\r\n        </div>\r\n      </Toast>\r\n      <i class=\"far fa-trash-alt deleteIcon\" id={game.date+'-'+game.time} onClick={deleteClick}></i>\r\n    </div>\r\n  ))\r\n \r\n  return (\r\n    <div className=\"LongBox\">\r\n      <div className=\"gameListHeader\">\r\n        <span>승리팀</span>\r\n        <span>패배팀</span>\r\n      </div>\r\n      <div>{RecentGame}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MatchList;\r\n","import { React, useEffect, useState } from 'react';\r\nimport { dbService } from '../fbase';\r\nimport Header from '../component/admin/Header';\r\nimport CreateUser from '../component/admin/CreateUser'\r\nimport RegiMatch from '../component/admin/RegiMatch'\r\nimport UserList from '../component/admin/UserList'\r\nimport MatchList from '../component/admin/MatchList'\r\nimport '../css/admin.css';\r\n\r\nconst AdminMain = ({allUsers, allGame}) => {\r\n  \r\n  return (\r\n    <div className=\"AdminMain\">\r\n      <Header />\r\n      <div className=\"Content\">\r\n        <CreateUser/>\r\n        <RegiMatch allUsers={allUsers}/>\r\n        <UserList allUsers={allUsers}/>\r\n        <MatchList allGame={allGame}/>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminMain;\r\n","import React, { useEffect, useState,useRef } from 'react';\r\nimport { dbService,authService,firebaseInstance,storageService } from '../../fbase'\r\nimport firebase from 'firebase/app';\r\n\r\nconst Post = ({userObj}) => {\r\n  const [writeMode, setWriteMode] = useState(false);\r\n  const [postFixmode, setPostFixMode] =useState(false);\r\n  const [refresh, setRefresh] = useState(false);\r\n  const [everyPost, setEveryPost] = useState([]);\r\n  const [contentmake, setContent] = useState('');\r\n  const [commentmake, setComment] = useState('');\r\n  const [commentfix, setCommentFix] = useState('');\r\n  const [attachment, setAttachment] = useState([]);\r\n  const [showImage, setShowImage] = useState(false);\r\n  const [postimage, setPostImage] = useState([]);\r\n  const [imageid, setImageId] = useState(0);\r\n  const increment = firebase.firestore.FieldValue.increment(1);\r\n\r\n  useEffect(() => {\r\n    setEveryPost([])\r\n    dbService.collection(\"post\").orderBy(\"date\",\"desc\").limit(10).get().then(snapshot => {\r\n      snapshot.docs.map(async(doc) => {\r\n        let likelistname = [];\r\n        let likelistuserid = [];\r\n        let likenum = 0;\r\n        let commentslists = [];\r\n        await dbService.collection(\"post\").doc(doc.data().date).collection(\"likes\").get().then(likelist => {\r\n          likelist.docs.map(like => {\r\n            likenum += 1;\r\n            likelistname.push(like.data().name);\r\n            likelistuserid.push(like.data().userid);\r\n          })\r\n        })\r\n        let commentsnum = 0;\r\n        await dbService.collection(\"post\").doc(doc.data().date).collection(\"comments\").get().then(comment => {\r\n          comment.docs.map(comment => {\r\n            commentsnum += 1;\r\n            const commentObject = {\r\n              writerid: comment.data().writerid,\r\n              writername: comment.data().writername,\r\n              text: comment.data().text,\r\n              writedate: comment.data().writedate,\r\n              recentfix: comment.data().recentfix,\r\n              writerphoto: comment.data().writerphoto,\r\n              commentfixmode: false,\r\n            }\r\n            commentslists.unshift(commentObject);\r\n          })\r\n        })\r\n        const postObject = {\r\n          content: doc.data().content,\r\n          writername: doc.data().writername,\r\n          writerid: doc.data().writerid,\r\n          writerprofile: doc.data().writerprofile,\r\n          date: doc.data().date,\r\n          recent_fix: doc.data().recent_fix,\r\n          imagelist: doc.data().imageurl,\r\n          likenum: likenum,\r\n          likelistname: likelistname,\r\n          likelistuserid: likelistuserid,\r\n          commentsnum: commentsnum,\r\n          commentslist: commentslists,\r\n          commentshow: false,\r\n          moremenushow: false,\r\n          postfixmode: false,\r\n        }\r\n        setEveryPost(everyPost => [...everyPost, postObject]);\r\n      })\r\n    })\r\n  }, [refresh])\r\n\r\n  const onSocialClick = async(event) => {\r\n    const {target:{name},\r\n    } = event;\r\n    let provider;\r\n    if(name === \"google\") {\r\n      provider = new firebaseInstance.auth.GoogleAuthProvider();\r\n    }\r\n    await authService.signInWithPopup(provider);\r\n  };\r\n\r\n  function rightNow() {\r\n    let now = new Date();   \r\n    let year = now.getFullYear(); // 년도\r\n    let month = now.getMonth() + 1;  // 월\r\n    if(month<10){\r\n      month = 0+''+month\r\n    }\r\n    let date = now.getDate();  // 날짜\r\n    if(date<10){\r\n      date = 0+''+date\r\n    }\r\n    let hours = now.getHours(); // 시\r\n    if(hours<10){\r\n      hours = 0+''+hours\r\n    }\r\n    let minutes = now.getMinutes();  // 분\r\n    if(minutes<10){\r\n      minutes = 0+''+minutes\r\n    }\r\n    let seconds = now.getSeconds();  // 초\r\n    if(seconds<10){\r\n      seconds = 0+''+seconds\r\n    }\r\n    const time = (year + '' + month + '' + date + '' + hours + '' + minutes + '' + seconds)\r\n    return time\r\n  }\r\n\r\n  const commentfixSubmit = async(e,object) => {\r\n    e.preventDefault();\r\n    if(commentfix === ''){\r\n      alert(\"내용을 입력하세요\");\r\n      return;\r\n    }\r\n    if(commentfix === object.comment.text){\r\n      return;\r\n    }\r\n    const time = rightNow();\r\n    await dbService.collection(\"post\").doc(object.post.date).collection(\"comments\").doc(object.comment.writedate).update({text: commentfix, recentfix: time})\r\n    const neweverypost = everyPost.map(page => {\r\n      if(page.date == object.post.date){\r\n        page.commentslist.map(comment => {\r\n          if(comment.writedate == object.comment.writedate){\r\n            comment.commentfixmode = !comment.commentfixmode\r\n            comment.text = commentfix\r\n          }\r\n          return comment\r\n        })\r\n      }\r\n      return page\r\n    })\r\n    setEveryPost(neweverypost);\r\n    setCommentFix('');\r\n  }\r\n\r\n  const submitComment = async(e,post) => {\r\n    e.preventDefault();\r\n    if(commentmake === ''){\r\n      alert(\"내용을 입력하세요\");\r\n      return;\r\n    }\r\n    const time = rightNow();\r\n    const commentinfo = {\r\n      text: commentmake,\r\n      writedate: time,\r\n      recentfix: time,\r\n      writername: userObj.displayName,\r\n      writerid: userObj.uid,\r\n      writerphoto: userObj.photoUrl,\r\n    }\r\n    await dbService.collection(\"post\").doc(post.post.date).collection(\"comments\").doc(time).set(commentinfo) //동시에 댓글을 달면 데이터가 겹쳐짐\r\n    setComment('');\r\n\r\n    const neweverypost = everyPost.map(page => {\r\n      if(page.date == post.post.date){\r\n        const commentslists = page.commentslist;\r\n        commentslists.unshift(commentinfo);\r\n        page.commentslist = commentslists;\r\n      }\r\n      return page\r\n    })\r\n    setEveryPost(neweverypost); \r\n  };\r\n\r\n  const unlikeClicked = async(e,post) => {\r\n    e.preventDefault();\r\n    await dbService.collection(\"post\").doc(post.post.date).collection(\"likes\").doc(userObj.uid).delete()\r\n\r\n    const neweverypost = everyPost.map(page => {\r\n      if(page.date == post.post.date){\r\n        const likelistbyname = page.likelistname;\r\n        const likelistbyuserid = page.likelistuserid;\r\n        const namelist = likelistbyname.filter((name) => name !== userObj.displayName);\r\n        const idlist = likelistbyuserid.filter((uid) => uid !== userObj.uid);\r\n        page.likenum = page.likenum -1;\r\n        page.likelistname = namelist;\r\n        page.likelistuserid = idlist;\r\n      }\r\n      return page\r\n    })\r\n    setEveryPost(neweverypost);  \r\n    }\r\n\r\n  const likeClicked = async(e,post) => {\r\n    e.preventDefault();\r\n    const likeinfo = {\r\n      name: userObj.displayName,\r\n      userid: userObj.uid,\r\n      time: rightNow(),\r\n    }\r\n    await dbService.collection(\"post\").doc(post.post.date).collection(\"likes\").doc(userObj.uid).set(likeinfo)\r\n\r\n    const neweverypost = everyPost.map(page => {\r\n      if(page.date == post.post.date){\r\n        const likelistbyname = page.likelistname;\r\n        const likelistbyuserid = page.likelistuserid;\r\n        likelistbyname.push(userObj.displayName);\r\n        likelistbyuserid.push(userObj.uid);\r\n        page.likenum = page.likenum + 1;\r\n        page.likelistname = likelistbyname;\r\n        page.likelistuserid = likelistbyuserid;\r\n      }\r\n      return page\r\n    })\r\n    setEveryPost(neweverypost);    \r\n  }\r\n\r\n  const submitReview = async(e) =>{\r\n    e.preventDefault();\r\n    if(contentmake === ''){\r\n      alert(\"내용을 입력하세요\")\r\n      return;\r\n    }\r\n    const time = rightNow();\r\n    let attachmentUrl = [];\r\n\r\n    async function sendData(){\r\n      let i = 0;\r\n      const promises = attachment.map(async(file) => {\r\n        i = i+1;\r\n        console.log(file.slice(0,4))\r\n        if(file.slice(0,4)==\"http\"){\r\n          return file\r\n        } else {\r\n          let attachmentRef = await storageService.ref().child('post/').child(time).child(String(i));\r\n          let response = await attachmentRef.putString(file, \"data_url\");\r\n          let url = await response.ref.getDownloadURL();\r\n          return url\r\n        }\r\n      })\r\n      const results =  await Promise.all(promises)\r\n      results.forEach(data => attachmentUrl.push(data) )\r\n    }\r\n    await sendData();\r\n\r\n    if(postFixmode){\r\n      console.log(\"postfixmode\")\r\n      await dbService.collection(\"post\").doc(postFixmode).update({recent_fix: time,content: contentmake,imageurl: attachmentUrl,})\r\n    } else {\r\n      const postObject = {\r\n        date: time,\r\n        recent_fix: time,\r\n        content: contentmake,\r\n        writername: userObj.displayName,\r\n        writerid: userObj.uid,\r\n        writerprofile: userObj.photoUrl,\r\n        imageurl: attachmentUrl,\r\n      }\r\n      await dbService.collection(\"post\").doc(time).set(postObject);\r\n    }\r\n    setContent('')\r\n    setWriteMode(!writeMode)\r\n    setRefresh(!refresh)\r\n    setAttachment([])\r\n    setPostFixMode(false)\r\n  };\r\n\r\n  const writeModeBtn = () => {\r\n    setContent('')\r\n    setAttachment([])\r\n    setPostFixMode(false)\r\n    setWriteMode(!writeMode)\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n    e.preventDefault();\r\n    setContent(e.target.value)\r\n  }\r\n\r\n  const commentChange = (e) => {\r\n    e.preventDefault();\r\n    setComment(e.target.value)\r\n  }\r\n\r\n  const commentfixChange = (e) => {\r\n    e.preventDefault();\r\n    setCommentFix(e.target.value)\r\n  }\r\n\r\n  const onFileChange = (event) => {\r\n    const {target:{files},\r\n    } = event;\r\n    const theFile = files[0];\r\n    const reader = new FileReader();\r\n    reader.onloadend = (finishedEvent) => {\r\n      const {\r\n        currentTarget: {result},\r\n      } = finishedEvent;\r\n      setAttachment(attachment.concat(result))\r\n    }\r\n    reader.readAsDataURL(theFile);\r\n  };\r\n\r\n  const moveleft = () => {\r\n    setImageId(imageid-1)\r\n  }\r\n\r\n  const moveright = () => {\r\n    setImageId(imageid+1)\r\n  }\r\n\r\n  const imgClicked = (e,post) => {\r\n    setPostImage(post.post)\r\n    setImageId(parseInt(e.target.id))\r\n    setShowImage(true);\r\n  }\r\n\r\n  const closeClick = () => {\r\n    setPostImage([])\r\n    setImageId('')\r\n    setShowImage(false);\r\n  }\r\n\r\n  const showcomment = (e,post) => {\r\n    e.preventDefault();\r\n    const neweverypost = everyPost.map(page => {\r\n      if(page.date == post.post.date){\r\n        page.commentshow = !page.commentshow;\r\n      }\r\n      return page\r\n    })\r\n    setEveryPost(neweverypost);   \r\n  }\r\n\r\n  const postImageOne = (post) => (\r\n      <img id=\"0\" onClick={(e) => {imgClicked(e,{post})}} src={post[0]} className=\"imageOne\"/>\r\n  )\r\n\r\n  const postImageTwo = (post) => (\r\n    <div className=\"postImages\">\r\n      <div onClick={(e) => {imgClicked(e,{post})}}>\r\n        <img id=\"0\" onClick={(e) => {imgClicked(e,{post})}} src={post[0]} className=\"imageTwo\"/>\r\n      </div>\r\n      <div onClick={(e) => {imgClicked(e,{post})}}>\r\n        <img id=\"1\" onClick={(e) => {imgClicked(e,{post})}} src={post[1]} className=\"imageTwo\"/>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  const postImageThree = (post) => (\r\n    <>\r\n      <div onClick={(e) => {imgClicked(e,{post})}}><img id=\"0\" src={post[0]} className=\"imageThreeBig\"/></div>\r\n      <div onClick={(e) => {imgClicked(e,{post})}}>\r\n        <img id=\"1\" src={post[1]} className=\"imageThreeSmall\"/>\r\n        <img id=\"2\" src={post[2]} className=\"imageThreeSmall\"/>\r\n      </div>\r\n    </>\r\n  )\r\n\r\n  const postImageFour = (post) => (\r\n    <div className=\"postImages\">\r\n      <div onClick={(e) => {imgClicked(e,{post})}} className=\"imageFour\">\r\n        <img id=\"0\" onClick={(e) => {imgClicked(e,{post})}} src={post[0]} className=\"fullimage\"/>\r\n      </div>\r\n      <div onClick={(e) => {imgClicked(e,{post})}} className=\"imageFour\">\r\n        <img id=\"1\" onClick={(e) => {imgClicked(e,{post})}} src={post[1]} className=\"fullimage\"/>\r\n      </div>\r\n      <div onClick={(e) => {imgClicked(e,{post})}} className=\"imageFour\">\r\n        <img id=\"2\" onClick={(e) => {imgClicked(e,{post})}} src={post[2]} className=\"fullimage\"/>\r\n      </div>\r\n      <div onClick={(e) => {imgClicked(e,{post})}} className=\"imageFour\">\r\n        <img id=\"3\" onClick={(e) => {imgClicked(e,{post})}} src={post[3]} className=\"fullimage\"/>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  const postImages = (post) => (\r\n    <div className=\"postImages\">\r\n      <div className=\"imageFour\" post={post} onClick={(e) => {imgClicked(e,{post})}}><img id=\"0\" src={post[0]} className=\"fullimage\"/></div>\r\n      <div className=\"imageFour\" post={post} onClick={(e) => {imgClicked(e,{post})}}><img id=\"1\" src={post[1]} className=\"fullimage\"/></div>\r\n      <div className=\"imageFour\" post={post} onClick={(e) => {imgClicked(e,{post})}}><img id=\"2\" src={post[2]} className=\"fullimage\"/></div>\r\n      <div className=\"imageFour\" post={post} onClick={(e) => {imgClicked(e,{post})}}>\r\n        <div className=\"moreimages\" id=\"3\"/>\r\n        <div className=\"showmoreimages\" id=\"3\">더보기+</div>\r\n        <img id=\"3\" src={post[3]} className=\"fullimage\"/>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  const modal = (\r\n    <div className='modal'>\r\n      <span className=\"close\" onClick={closeClick}>&times;</span>\r\n      {imageid != 0 && <span className=\"left\" onClick={moveleft}>&lt;</span>}\r\n      {postimage.length-1 !== imageid && <span className=\"right\" onClick={moveright}>&gt;</span>}\r\n      <img className=\"modal-content\" src={postimage[imageid]}/>\r\n    </div>\r\n  )\r\n\r\n  const Postfix = async(e, post) => {\r\n    setPostFixMode(post.post.date)\r\n    setWriteMode(!writeMode)\r\n    setContent(post.post.content)\r\n    setAttachment(post.post.imagelist)\r\n\r\n  }\r\n\r\n  const Postdelete = async(e,post) => {\r\n    if(window.confirm(\"ㄹㅇ 지움?\")) {\r\n      await dbService.collection(\"post\").doc(post.post.date).delete()\r\n      setRefresh(!refresh)\r\n    }\r\n  }\r\n\r\n  const Postmenushow = (e, post) => {\r\n    const neweverypost = everyPost.map(page => {\r\n      if(page.date == post.post.date){\r\n        page.moremenushow = !page.moremenushow\r\n      }\r\n      return page\r\n    })\r\n    setEveryPost(neweverypost);   \r\n  }\r\n\r\n  const Commentdelete = async(e,object) => {\r\n    if(window.confirm(\"ㄹㅇ 지움?\")) {\r\n      await dbService.collection(\"post\").doc(object.post.date).collection(\"comments\").doc(object.comment.writedate).delete()\r\n      setRefresh(!refresh)\r\n    }\r\n  }\r\n\r\n  const Commentfix = async(e,object) => {\r\n    const neweverypost = everyPost.map(page => {\r\n      if(page.date == object.post.date){\r\n        page.commentslist.map(comment => {\r\n          if(comment.writedate == object.comment.writedate){\r\n            comment.commentfixmode = !comment.commentfixmode\r\n          }\r\n          return comment\r\n        })\r\n      }\r\n      return page\r\n    })\r\n    setEveryPost(neweverypost);\r\n    setCommentFix(object.comment.text)\r\n  }\r\n\r\n  const PostList = everyPost.map(post =>(\r\n    <div className=\"post\">\r\n      {post.writerid == userObj.uid && (\r\n        <div className=\"moremenu\" onClick={(e) => {Postmenushow(e,{post})}}>\r\n          <i className=\"moremenuicon fas fa-ellipsis-h\"/>\r\n          <div className={post.moremenushow ? \"moremenuactive\" : \"moremenuicons\"}>\r\n            <div className=\"postfix\" onClick={(e) => {Postfix(e,{post})}}>수정</div>\r\n            <div className=\"postdelete\" onClick={(e) => {Postdelete(e,{post})}}>삭제</div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div className=\"postHeader\">\r\n        <div className=\"postHeaderLeft\">\r\n          <img className=\"userProfile\" src={post.writerprofile}></img>\r\n        </div>\r\n        <div className=\"postHeaderRight\">\r\n          <div classNames=\"userName\">{post.writername}</div>\r\n          <div classNames=\"postDate\">{post.date.slice(0,4)}년 {post.date.slice(4, 6)}월 {post.date.slice(6,8)}일</div>\r\n        </div>\r\n      </div>\r\n      <div className=\"postContent\">\r\n        <div className=\"postText\">{post.content}</div>\r\n        <div className=\"postImage\">\r\n          {post.imagelist.length == 1 && postImageOne(post.imagelist)}\r\n          {post.imagelist.length == 2 && postImageTwo(post.imagelist)}\r\n          {post.imagelist.length == 3 && postImageThree(post.imagelist)}\r\n          {post.imagelist.length == 4 && postImageFour(post.imagelist)}\r\n          {post.imagelist.length > 4 && postImages(post.imagelist)}\r\n        </div>\r\n      </div>\r\n      <div className=\"heartandcomment\">\r\n        <div className=\"getheart\">\r\n          <i className=\"hearticon fas fa-heart\"></i>\r\n          {post.likenum}\r\n          <div className=\"likelistshow\">{post.likelistname.map(username => <div classNames=\"likeuser\">{username}</div>)}</div>\r\n        </div>\r\n        <div onClick={(e) => {showcomment(e,{post})}} className=\"getcomment\">\r\n          <i class=\"commenticon fas fa-comment\"></i>\r\n          {post.commentsnum}\r\n        </div>\r\n      </div>     \r\n      <div className=\"postFooter\">\r\n        {post.likelistuserid.includes(userObj.uid)\r\n          ? <div className=\"postLike\"><i className=\"heart fas fa-heart\" onClick={(e) => {unlikeClicked(e,{post})}}></i>좋아요</div>\r\n          : <div className=\"postLike\"><i className=\"heart far fa-heart\" onClick={(e) => {likeClicked(e,{post})}}></i>좋아요</div>\r\n        }\r\n        <div onClick={(e) => {showcomment(e,{post})}} className=\"postComment\"><i class=\"commenticon fas fa-comment-dots\"></i>댓글 쓰기</div>\r\n      </div>\r\n      {post.commentshow && (  //댓글작성, 보기\r\n        <div className=\"commentsBox\">\r\n          <div className=\"commentmaker\">\r\n            <img class=\"commentUserProfile\" src={userObj.photoUrl}></img>\r\n            <input className=\"commentwrite\" onChange={commentChange} value={commentmake} placeholder=\"댓글을 입력해보세용\"></input>\r\n            {commentmake ? <button className=\"commentsubmitbtn\" onClick={(e) => {submitComment(e,{post})}}><p>보내기</p></button> : <div className=\"btnunactive\"><p>보내기</p></div>}\r\n          </div>\r\n          {post.commentslist.map(comment => (\r\n              <div className=\"comments\">\r\n                <div className=\"commentuserprofile\"><img className=\"commentUserProfile\" src={comment.writerphoto} alt=\"프사\"></img></div>\r\n                <div className=\"commentmain\">\r\n                  <div className=\"commentwriter\">{comment.writername}</div>\r\n                  {comment.commentfixmode\r\n                    ? <div className=\"commentfixmain\">\r\n                        <input className=\"commentwrite\" onChange={commentfixChange} value={commentfix}></input>\r\n                        <button className=\"commentsubmitbtn\" onClick={(e) => {commentfixSubmit(e,{post,comment})}}><p>수정</p></button>\r\n                      </div>\r\n                    : <div>{comment.text}</div>\r\n                  }\r\n                  <div className=\"commentwritedate\">{comment.writedate.slice(0, 4)}년 {comment.writedate.slice(4, 6)}월 {comment.writedate.slice(6,8)}일</div>\r\n                </div>\r\n                {comment.writerid == userObj.uid && (\r\n                  <div className=\"commentmoremenu\">\r\n                    <i className=\"moremenuicon fas fa-ellipsis-h\"/>\r\n                    <div className=\"commentmoremenuactive\">\r\n                      <div className=\"commentfix\" onClick={(e) => {Commentfix(e,{post,comment})}}>수정</div>\r\n                      <div className=\"commentdelete\" onClick={(e) => {Commentdelete(e,{post,comment})}}>삭제</div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  ))\r\n\r\n  const postMaker = (\r\n      <div className={writeMode ? 'postMaker active' : 'postMaker'}>\r\n        <div className=\"postMakeHeader\"> 게시물 만들기 </div>\r\n        <textarea className=\"makePost\" onChange={handleChange} value={contentmake} placeholder={`반갑습니다 ${userObj.displayName}님!`}></textarea>\r\n        <div className=\"file\">\r\n          <div className=\"fileHeader\">\r\n            <input type=\"file\" id=\"fileInput\" className=\"fileInput\" multiple={true} onChange={onFileChange}/>\r\n            <label htmlFor=\"fileInput\">\r\n              <span>이미지 추가하기</span>\r\n              <i class=\"fas fa-images fa-2x\"></i>\r\n            </label>\r\n          </div>\r\n          {attachment.length < 6 && (\r\n            attachment.map(image => (\r\n              <img className=\"images\" src={image} alt=\"photo\"/>\r\n            ))\r\n          )}\r\n          {attachment.length >= 6 && (\r\n            attachment.map(image => (\r\n              <img className=\"images\" src={image} alt=\"photo\"/>\r\n            ))\r\n          )}\r\n        </div>\r\n        <div className=\"buttons\">\r\n          <button className=\"writeModeBtn\" onClick={writeModeBtn}>\r\n            취소\r\n          </button>\r\n          <button className=\"writeModeBtn\" onClick={submitReview}>\r\n            작성\r\n          </button>\r\n        </div>\r\n      </div>\r\n  )\r\n\r\n  const postMakeBtn = (\r\n    <div className=\"postMakeBtn\">\r\n      <div>{userObj.displayName} 님 안녕하세요!</div>\r\n      <button className=\"writeModeBtn\" onClick={writeModeBtn}>\r\n        작성\r\n      </button>\r\n    </div>\r\n  )\r\n\r\n  const needLoginBtn = (\r\n    <button onClick={onSocialClick} name=\"google\" className=\"writeModeBtn\">\r\n      구글 로그인\r\n    </button>\r\n  )\r\n\r\n  // const test = () => {\r\n  //   dbService.collection(\"game\").get().then(snapshot => {\r\n  //     snapshot.docs.map(doc => {\r\n  //       let docname = doc.data().date + '-' + doc.data().write_time\r\n  //       let winnerlist = doc.data().winners;\r\n  //       for(let i=0; i<winnerlist.length; i++){\r\n  //         if(winnerlist[i]==\"1500\"){\r\n  //           winnerlist[i] = \"정화\"\r\n  //           console.log(winnerlist)\r\n  //           dbService.collection(\"game\").doc(docname).update({winners: winnerlist})\r\n  //         }\r\n  //       }\r\n\r\n  //       let loserlist = doc.data().losers;\r\n  //       for(let i=0; i<loserlist.length; i++){\r\n  //         if(loserlist[i]==\"1500\"){\r\n  //           loserlist[i] = \"정화\"\r\n  //           dbService.collection(\"game\").doc(docname).update({losers: loserlist})\r\n  //         }\r\n  //       }\r\n        \r\n  //     })\r\n  //   })\r\n  // }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"postMain\">\r\n        {showImage && modal}\r\n        {postMaker}\r\n        {/* <button onClick={test}>데이터처리</button> */}\r\n        <div className={writeMode ? 'postList active' : 'postList'}>\r\n          {userObj.displayName\r\n            ? <>{postMakeBtn}</>\r\n            : <>{needLoginBtn}</>\r\n          }\r\n          {PostList}\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n};\r\n\r\nexport default Post;","import React, { useEffect, useState } from 'react';\r\nimport '../../css/client.css';\r\nimport { faCaretDown } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nconst RankingContent = ({ allUsers, contentMode }) => {\r\n  const allUsersList = allUsers.filter(user => user.status ===\"재학\" || user.status ===\"졸업\")\r\n  const studentRanking = allUsers.filter(user => user.status === \"재학\");\r\n  const [loadState, setLoadState] = useState({ end: 9 });\r\n  const [showRanking, setShowRanking] = useState([]);\r\n  const [currentType, setCurrentType] = useState('전체');\r\n  const [typeContent, setTypeContent] = useState('');\r\n\r\n  useEffect(() => {\r\n    if(contentMode === \"재학생랭킹\"){\r\n      setShowRanking(studentRanking.slice(0, loadState.end))\r\n    } else if(contentMode === \"전체랭킹\"){\r\n      // setShowRanking(allUsers)\r\n      switch(currentType) {\r\n        case '전체':\r\n          setShowRanking(allUsersList)\r\n          break;\r\n        case '학번':\r\n          if(typeContent) {\r\n            setShowRanking(allUsersList.filter(el => el.studentid === parseInt(typeContent)))\r\n          } else{\r\n            setShowRanking(allUsersList)\r\n          }\r\n          break;\r\n        default:\r\n          setShowRanking(allUsersList)\r\n          break;\r\n      }\r\n    }\r\n  }, [contentMode, allUsers, loadState, currentType, typeContent])\r\n\r\n  // infinite 스크롤\r\n  function onScrollAction(e) {\r\n    const rankingContainer = e.target;\r\n    if(\r\n        rankingContainer.scrollTop + rankingContainer.clientHeight\r\n        >= rankingContainer.scrollHeight\r\n      ) {\r\n        switch(studentRanking.length - loadState.end) {\r\n          case 0:\r\n            break;\r\n          case 1:\r\n            setLoadState(prevLoadState => ({...prevLoadState, end: prevLoadState.end + 1}))\r\n            break;\r\n          case 2:\r\n            setLoadState(prevLoadState => ({...prevLoadState, end: prevLoadState.end + 2}))\r\n            break;\r\n          case 3:\r\n            setLoadState(prevLoadState => ({...prevLoadState, end: prevLoadState.end + 3}))\r\n            break;\r\n          case 4:\r\n            setLoadState(prevLoadState => ({...prevLoadState, end: prevLoadState.end + 4}))\r\n            break;\r\n          default :\r\n            setLoadState(prevLoadState => ({...prevLoadState, end: prevLoadState.end + 5}))\r\n            break;\r\n        }\r\n      }\r\n    };\r\n\r\n  const userRankingList = showRanking.map((user,index) => (\r\n    <div className=\"ranking\" key={index}>\r\n      <p className=\"item--left grade\">{index + 1}</p>\r\n      <div className=\"item--img\">\r\n        {\r\n        user.attachmentUrl ?\r\n        <img src={user.attachmentUrl} alt=\"profile-img\"/> :\r\n        <img src=\"https://d2u3dcdbebyaiu.cloudfront.net/uploads/atch_img/68/d768b6caa2c0d23507bc12087bf171a8.jpeg\" alt=\"profile-img\"/>\r\n        }\r\n      </div>\r\n      <div className=\"item--right\">\r\n        <span className=\"rating\">{user.rating}</span>\r\n        <div>\r\n          <span className=\"studentName\">{user.name}</span>\r\n          <span className=\"studentId\">{user.studentid}</span>\r\n          <span className=\"department\">{user.department}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ))\r\n\r\n\r\n  function onChangeAction(e) {\r\n    setTypeContent(e.target.value)\r\n  }\r\n\r\n  function onClickAction(e) {\r\n    setCurrentType(e.target.id)\r\n  }\r\n\r\n  const rankingContentFilter = (\r\n    <>\r\n      <div className=\"dropdown dropdown--rankingContainer\">\r\n        <div className=\"dropdown--selected\">\r\n          <span className=\"selected\">{currentType}</span>\r\n          <FontAwesomeIcon icon={faCaretDown}/>\r\n        </div>\r\n        <ul className=\"dropdown--list\">\r\n          <li id=\"전체\" className=\"dropdown--list__item\" onClick={onClickAction}>전체</li>\r\n          <li id=\"학번\" className=\"dropdown--list__item\" onClick={onClickAction}>학번</li>\r\n        </ul>\r\n      </div>\r\n      <input type=\"text\" className=\"filter--rangkingContent\" placeholder=\"text me...\" onChange={onChangeAction} />\r\n    </>\r\n  )\r\n\r\n  return (\r\n    <>\r\n      {contentMode === \"전체랭킹\" && rankingContentFilter}\r\n      <div className=\"rankingContainer\" onScroll={onScrollAction}>\r\n        {userRankingList}\r\n      </div>\r\n    </>\r\n  )\r\n};\r\n\r\nexport default RankingContent;","import React from 'react';\r\nimport { faCaretUp } from '@fortawesome/free-solid-svg-icons'\r\nimport { faCaretDown } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nconst RecentGame = ({ allGame }) => {\r\n\r\n  const recentGames =  allGame.slice(0, 5).map((el, index) => (\r\n    <div className=\"game\" key={index}>\r\n      <div className=\"top\">{el.date.slice(0, 4)}년 {el.date.slice(4, 6)}월 {el.date.slice(6)}일</div>\r\n      <div className=\"bot\">\r\n        {el.winners.length === 2 ?\r\n          <>\r\n          <div className=\"winner\">\r\n            <span>Winner! ^^</span>\r\n            <div className=\"winnerInfo\">\r\n              <div className=\"winnerNames\">\r\n                <span className=\"winner__name\">{el.winners[0]}</span>\r\n                <span className=\"winner__name\">{el.winners[1]}</span>\r\n              </div>\r\n              <div className=\"winnerRatings\">\r\n                <span className=\"winner__rating>\">{el.ratingChange}<FontAwesomeIcon className=\"icon--win\" icon={faCaretUp} /></span>\r\n                <span className=\"winner__rating>\">{el.ratingChange}<FontAwesomeIcon className=\"icon--win\" icon={faCaretUp} /></span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"loser\">\r\n            <span>loser! ㅠㅠ</span>\r\n            <div className=\"loserInfo\">\r\n              <div className=\"loserNames\">\r\n                <span className=\"loser__name\">{el.losers[0]}</span>\r\n                <span className=\"loser__name\">{el.losers[1]}</span>\r\n              </div>\r\n              <div className=\"loserRatings\">\r\n                <span className=\"loser__rating>\">{el.ratingChange}<FontAwesomeIcon className=\"icon--lose\" icon={faCaretDown} /></span>\r\n                <span className=\"loser__rating>\">{el.ratingChange}<FontAwesomeIcon className=\"icon--lose\" icon={faCaretDown} /></span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          </>\r\n        :\r\n          <>\r\n          <div className=\"winner\">\r\n            <span>Winner! ^^</span>\r\n            <div className=\"winnerInfo\">\r\n              <div className=\"winnerNames\">\r\n                <span className=\"winner__name\">{el.winners[0]}</span>\r\n              </div>\r\n              <div className=\"winnerRatings\">\r\n                <span className=\"winner__rating>\">{el.ratingChange}<FontAwesomeIcon className=\"icon--win\" icon={faCaretUp} /></span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"loser\">\r\n              <span>loser! ㅠㅠ</span>\r\n              <div className=\"loserInfo\">\r\n                <div className=\"loserNames\">\r\n                  <span className=\"loser__name\">{el.losers[0]}</span>\r\n                </div>\r\n                <div className=\"loserRatings\">\r\n                  <span className=\"loser__rating>\">{el.ratingChange}<FontAwesomeIcon className=\"icon--lose\" icon={faCaretDown} /></span>\r\n                </div>\r\n              </div>\r\n          </div>\r\n          </>\r\n        }\r\n      </div>\r\n    </div>\r\n  ))\r\n\r\n  return (\r\n    <div className=\"games\">\r\n      {recentGames}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RecentGame","import React from 'react'\r\nimport { Line } from 'react-chartjs-2'\r\n\r\nconst UserDetailChart = ({ chartMode, period, userMatch, userDetailTarget }) => {\r\n    // userMatch에서 rating 가져오기\r\n    function getRating(STD_Date) {\r\n        const wanted = userMatch.find(el => el.date - STD_Date <= 0) ? userMatch.find(el => el.date - STD_Date <= 0) : userDetailTarget.start_rating\r\n        \r\n        if(typeof wanted === 'number' || typeof wanted === 'string') {\r\n            return Number(wanted)\r\n        } else if(wanted.winners.includes(userDetailTarget.name)) {\r\n            return wanted.winnerRatingAfter[wanted.winners.indexOf(userDetailTarget.name)]\r\n        } else if(wanted.losers.includes(userDetailTarget.name)) {\r\n            return wanted.loserRatingAfter[wanted.losers.indexOf(userDetailTarget.name)]\r\n        }\r\n    }\r\n\r\n    // 랭킹은 게임기록에서 가져 올 수 없음\r\n    // 랭킹은 게임기록에서 가져 올 수 없음\r\n    // 랭킹은 게임기록에서 가져 올 수 없음\r\n    // function getRanking(STD_Date) {\r\n    //     return 1\r\n    // }\r\n\r\n    function getDate(STD_Date) {\r\n        let year = STD_Date.getFullYear()\r\n        let month = STD_Date.getMonth() + 1\r\n        let day = STD_Date.getDate()\r\n\r\n        month = month >= 10 ? month : `0${month}`\r\n        day = day >= 10 ? day : `0${day}`\r\n\r\n        return `${year}${month}${day}`\r\n    }\r\n\r\n    // 1월달에만 년도 출력하도록 변경하기\r\n    // 1월달에만 년도 출력하도록 변경하기\r\n    // 1월달에만 년도 출력하도록 변경하기\r\n    function getNewDateForm(STD_Date) {\r\n        return `${STD_Date.slice(4, 6)}월 ${STD_Date.slice(6)}일`\r\n    }\r\n    \r\n    function getToday() {\r\n        const date = new Date()\r\n\r\n        return getDate(date)\r\n    }\r\n\r\n    function lastDays(day) {\r\n        const date = new Date()\r\n        const dayOfDate = date.getDate()\r\n\r\n        date.setDate(dayOfDate - day)\r\n\r\n        return getDate(date)\r\n    }\r\n\r\n    // period에 따라 labels array 생성\r\n    const getDataLabels = (period) => {\r\n        let dataLabels = []\r\n\r\n        for(let i = 0; i < period; i++) {\r\n            dataLabels.push(getNewDateForm(lastDays(period - i)))\r\n        }\r\n        dataLabels.push(getNewDateForm(getToday()))\r\n\r\n        return dataLabels\r\n    }\r\n\r\n    // period에 따라 datas 생성\r\n    const getDatas = (period) => {\r\n        let datas = []\r\n\r\n        for(let i = 0; i < period; i ++) {\r\n            datas.push(getRating(lastDays(period - i)))\r\n        }\r\n        datas.push(getRating(getToday()))\r\n\r\n        return datas\r\n    }\r\n\r\n    const dataLabels = () => {\r\n        switch(period) {\r\n            case '10':\r\n                return getDataLabels(period)\r\n            case '30':\r\n                return getDataLabels(period)\r\n            case '60':\r\n                return getDataLabels(period)\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    const datas = () => {\r\n        if(chartMode === 'rating') {\r\n            switch(period) {\r\n                case '10':\r\n                    return getDatas(period)\r\n                case '30':\r\n                    return getDatas(period)\r\n                case '60':\r\n                    return getDatas(period)\r\n                default:\r\n                    break;\r\n            }\r\n        } else {\r\n            switch(period) {\r\n                case '10':\r\n                case '30':\r\n                case '60':\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <Line\r\n            data={{\r\n                labels: dataLabels(),\r\n                datasets: [{\r\n                    label: 'Rating',\r\n                    data: datas(),\r\n                    fill: false,\r\n                    borderColor: 'rgb(75, 192, 192)',\r\n                    tension: 0.1\r\n                }]\r\n            }}\r\n            options={{ maintainAspectRatio: false }}\r\n        />\r\n    )\r\n}\r\n\r\nexport default UserDetailChart","import React from 'react'\r\nimport { faCaretUp } from '@fortawesome/free-solid-svg-icons'\r\nimport { faCaretDown } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nconst UserDetailGame = ( {userMatch} ) => {\r\n\r\n    const recentGames = userMatch.map((el, index) => \r\n      <div className=\"game\" key={index}>\r\n        <div className=\"top\">{el.date.slice(0, 4)}년 {el.date.slice(4, 6)}월 {el.date.slice(6)}일</div>\r\n        <div className=\"bot\">\r\n          {el.winners.length === 2 ?\r\n            <>\r\n            <div className=\"winner\">\r\n              <span>Winner! ^^</span>\r\n              <div className=\"winnerInfo\">\r\n                <div className=\"winnerNames\">\r\n                  <span className=\"winner__name\">{el.winners[0]}</span>\r\n                  <span className=\"winner__name\">{el.winners[1]}</span>\r\n                </div>\r\n                <div className=\"winnerRatings\">\r\n                  <span className=\"winner__rating>\">{el.ratingChange}<FontAwesomeIcon className=\"icon--win\" icon={faCaretUp} /></span>\r\n                  <span className=\"winner__rating>\">{el.ratingChange}<FontAwesomeIcon className=\"icon--win\" icon={faCaretUp} /></span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"loser\">\r\n              <span>loser! ㅠㅠ</span>\r\n              <div className=\"loserInfo\">\r\n                <div className=\"loserNames\">\r\n                  <span className=\"loser__name\">{el.losers[0]}</span>\r\n                  <span className=\"loser__name\">{el.losers[1]}</span>\r\n                </div>\r\n                <div className=\"loserRatings\">\r\n                  <span className=\"loser__rating>\">{el.ratingChange}<FontAwesomeIcon className=\"icon--lose\" icon={faCaretDown} /></span>\r\n                  <span className=\"loser__rating>\">{el.ratingChange}<FontAwesomeIcon className=\"icon--lose\" icon={faCaretDown} /></span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            </>\r\n          :\r\n            <>\r\n            <div className=\"winner\">\r\n              <span>Winner! ^^</span>\r\n              <div className=\"winnerInfo\">\r\n                <div className=\"winnerNames\">\r\n                  <span className=\"winner__name\">{el.winners[0]}</span>\r\n                </div>\r\n                <div className=\"winnerRatings\">\r\n                  <span className=\"winner__rating>\">{el.ratingChange}<FontAwesomeIcon className=\"icon--win\" icon={faCaretUp} /></span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"loser\">\r\n                <span>loser! ㅠㅠ</span>\r\n                <div className=\"loserInfo\">\r\n                  <div className=\"loserNames\">\r\n                    <span className=\"loser__name\">{el.losers[0]}</span>\r\n                  </div>\r\n                  <div className=\"loserRatings\">\r\n                    <span className=\"loser__rating>\">{el.ratingChange}<FontAwesomeIcon className=\"icon--lose\" icon={faCaretDown} /></span>\r\n                  </div>\r\n                </div>\r\n            </div>\r\n            </>\r\n          }\r\n        </div>\r\n      </div>\r\n    )\r\n\r\n    const noGames = (\r\n      <div className=\"noGame\">\r\n        <span>경기 기록이 없습니다.</span>\r\n      </div>\r\n    )\r\n\r\n    return (\r\n      <>\r\n        {\r\n        userMatch.length > 0 ?\r\n          <div className=\"games\">\r\n            {recentGames}\r\n          </div>\r\n        :\r\n          noGames\r\n        }\r\n      </>\r\n    )\r\n}\r\n\r\nexport default UserDetailGame","import React, { useEffect, useRef } from 'react'\r\n\r\nconst UserDetailWinningRate = ({ userDetailTarget }) => {\r\n    const canvasRef = useRef()\r\n\r\n    // 각도 => 라디안 변환\r\n    function degToRad(degree) {\r\n        return degree * (Math.PI / 180)\r\n    }\r\n\r\n    // 기본 원 그리기\r\n    function drawBase(ctx, x, y, r, S_degree, E_degree, direction) {\r\n        ctx.beginPath()\r\n        ctx.lineWidth = 4\r\n        ctx.strokeStyle = '#7f8c8d'\r\n        ctx.arc(x, y, r, S_degree, E_degree, direction)\r\n        ctx.stroke()\r\n    }\r\n\r\n    // 승률 계산\r\n    function getWinningRate() { \r\n        return userDetailTarget.game_win / userDetailTarget.game_all\r\n    }\r\n\r\n    // 승 부분 그리기\r\n    function drawGreenCircle(ctx, x, y, r, S_degree, E_degree, direction) {\r\n        ctx.beginPath()\r\n        ctx.lineWidth = 40\r\n        ctx.strokeStyle = '#2EC4B6'\r\n        ctx.arc(x, y, r, S_degree, E_degree, direction)\r\n        ctx.stroke()\r\n    }\r\n\r\n    // 패 부분 그리기\r\n    function drawRedCircle(ctx, x, y, r, S_degree, E_degree, direction) {\r\n        ctx.beginPath()\r\n        ctx.lineWidth = 40\r\n        ctx.strokeStyle = '#e74c3c'\r\n        ctx.arc(x, y, r, S_degree, E_degree, direction)\r\n        ctx.stroke()\r\n    }\r\n\r\n    useEffect(() => {\r\n        const canvas = canvasRef.current\r\n        const ctx = canvas.getContext('2d')\r\n\r\n        drawBase(ctx, 90, 90, 40, 0, Math.PI * 2, false)\r\n        \r\n        // 승/패 그리기\r\n        if(getWinningRate() === 0) {        // 승이 0인 경우\r\n            drawRedCircle(ctx, 90, 90, 66, degToRad(270), degToRad(-90), false)\r\n        } else if(getWinningRate() === 1) { // 패가 0인 경우\r\n            drawGreenCircle(ctx, 90, 90, 66, degToRad(270), degToRad(-90), true)\r\n        } else {                          // 그 외 일반상황\r\n            drawGreenCircle(ctx, 90, 90, 66, degToRad(270), degToRad(270 - 360 * getWinningRate()), true)\r\n            drawRedCircle(ctx, 90, 90, 66, degToRad(270), degToRad(270 - 360 * getWinningRate()), false)\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <canvas width=\"180\" height=\"180\" ref={canvasRef} className=\"canvas\"></canvas>\r\n            <span className=\"hover\">Hover me!</span>\r\n            <div className=\"gameRecord\">\r\n                <span className=\"record--left\">{userDetailTarget.game_win} 승</span>\r\n                <span className=\"record--right\">{userDetailTarget.game_lose} 패</span>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UserDetailWinningRate","import React, { useEffect, useRef } from 'react'\r\n\r\nconst UserDetailRankingRate = ({ allUsersByTime, userDetailTarget }) => {\r\n    const canvasRef = useRef()\r\n\r\n    // 레이팅 정렬 하기\r\n    function sortRanking(arr) {\r\n        return arr.concat().sort(function(a, b) {return b.rating - a.rating})\r\n    }\r\n\r\n    // 레이팅으로 user 랭킹 상위퍼센티지 구하기\r\n    function getRankingRate() {\r\n        const sortedArr = sortRanking(allUsersByTime)\r\n\r\n        const target = sortedArr.filter(el => el.name === userDetailTarget.name)\r\n        const ranking = sortedArr.indexOf(target[0]) + 1\r\n        \r\n        // 본인 순위 / 전체 인원\r\n        return ( ranking / allUsersByTime.length )\r\n    }\r\n\r\n    // 화면 출력용 랭킹 수치 보정\r\n    const newRankingRate = () => {\r\n        return Math.round(getRankingRate() * 100)\r\n    }\r\n\r\n    // 각도 => 라디안 변환\r\n    function degToRad(degree) {\r\n        return degree * (Math.PI / 180)\r\n    }\r\n\r\n    // 기본 원 그리기\r\n    function drawBase(ctx, x, y, r, S_degree, E_degree, direction) {\r\n        ctx.beginPath()\r\n        ctx.lineWidth = 4\r\n        ctx.strokeStyle = '#7f8c8d'\r\n        ctx.arc(x, y, r, S_degree, E_degree, direction)\r\n        ctx.stroke()\r\n    }\r\n\r\n    // 승 부분 그리기\r\n    // 상위 퍼센티지 그래프에서는 반대로 걸어줘야함. ex) 상위 0.01 => 그 반대인 0.99 곱해야 함\r\n    // drawGreenCircle(ctx, x, y, r, degToRad(269), degToRad(270 - (360 * (1 - 0.01)) + 0.5), true)\r\n    function drawGreenCircle(ctx, x, y, r, S_degree, E_degree, direction) {\r\n        ctx.beginPath()\r\n        ctx.lineWidth = 40\r\n        ctx.strokeStyle = '#2EC4B6'\r\n        ctx.arc(x, y, r, S_degree, E_degree, direction)\r\n        ctx.stroke()\r\n    }\r\n\r\n    // 패 부분 그리기\r\n    function drawRedCircle(ctx, x, y, r, S_degree, E_degree, direction) {\r\n        ctx.beginPath()\r\n        ctx.lineWidth = 40\r\n        ctx.strokeStyle = '#e74c3c'\r\n        ctx.arc(x, y, r, S_degree, E_degree, direction)\r\n        ctx.stroke()\r\n    }\r\n\r\n    useEffect(() => {\r\n        const canvas = canvasRef.current\r\n        const ctx = canvas.getContext('2d')\r\n\r\n        // 상위 퍼센티지\r\n        drawBase(ctx, 90, 90, 40, 0, Math.PI * 2, false)\r\n\r\n        if(getRankingRate() === 0) {\r\n            drawGreenCircle(ctx, 90, 90, 66, degToRad(270), degToRad(-90), true)\r\n        } else if(getRankingRate() === 1) {\r\n            drawRedCircle(ctx, 90, 90, 66, degToRad(270), degToRad(-90), false)\r\n        } else {\r\n            drawGreenCircle(ctx, 90, 90, 66, degToRad(270), degToRad(270 - (360 * (1 - getRankingRate()))), true)\r\n            drawRedCircle(ctx, 90, 90, 66, degToRad(270), degToRad(270 - (360 * (1 - getRankingRate()))), false)\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <canvas width=\"180\" height=\"180\" ref={canvasRef} className=\"canvas\"></canvas>\r\n            <span className=\"hover\">Hover me!</span>\r\n            <div className=\"gameRecord\">\r\n                <span className=\"record--left\">상위</span>\r\n                <span className=\"record--right\">{newRankingRate()} %</span>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UserDetailRankingRate","import React, { useEffect, useState } from 'react';\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport { faCaretDown } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport UserDetailChart from './UserDetailChart';\r\nimport UserDetailGame from './UserDetailGame';\r\nimport { dbService } from '../../fbase';\r\nimport UserDetailWinningRate from './UserDetailWinningRate';\r\nimport UserDetailRankingRate from './UserDetailRankingRate';\r\n\r\nconst UserDetail = ({ allUsersByTime, setIsDetailOn, userDetailTarget }) => {\r\n    const [chartMode, setChartMode] = useState('rating')\r\n    const [period, setPeriod] = useState('30')\r\n    const [userMatch, setUserMatch] = useState([])\r\n    // const userName = userDetailTarget.name\r\n\r\n    userMatch.sort(function(a, b) {\r\n        return b.date - a.date\r\n    })\r\n    \r\n    // 해당유저의 경기기록만 가져오기\r\n    // const userMatch = allGame.filter(el => \r\n    //     el.winners.includes(userName) || el.losers.includes(userName)).sort(function(a, b) {\r\n    //         return b.date - a.date\r\n    //     }\r\n    // )\r\n\r\n    const info = (\r\n        <>\r\n            <div className=\"detail--profile\">\r\n                <img src={userDetailTarget.attachmentUrl} alt=\"detail profile\" />\r\n            </div>\r\n            <div>\r\n                <span className=\"detail__name\">{userDetailTarget.name}</span>\r\n                <span className=\"detail__department\">{userDetailTarget.department}과</span>\r\n                <span className=\"detail__status\">{userDetailTarget.studentid}학번 / {userDetailTarget.status}</span>\r\n            </div>\r\n        </>\r\n    )\r\n\r\n    function closeDetail() {\r\n        setIsDetailOn(false)\r\n    }\r\n\r\n    function periodHandler(e) {\r\n        setPeriod(e.target.dataset.period)\r\n    }\r\n\r\n    function chartModeHandler(e) {\r\n        setChartMode(e.target.dataset.mode)\r\n    }\r\n\r\n    const periodFilter = (\r\n        <>\r\n        <div className=\"button button--userDetail\" onClick={periodHandler} data-period=\"10\">10일</div>\r\n        <div className=\"button button--userDetail\" onClick={periodHandler} data-period=\"30\">30일</div>\r\n        <div className=\"button button--userDetail\" onClick={periodHandler} data-period=\"60\">60일</div>\r\n        </>\r\n    )\r\n\r\n    const chartFilter = (\r\n        <div className=\"dropdown dropdown--userDetail\">\r\n          <div className=\"dropdown--selected\">\r\n            <span className=\"selected\">{chartMode === 'rating' ? '점수' : '순위'}</span>\r\n            <FontAwesomeIcon icon={faCaretDown}/>\r\n          </div>\r\n          <ul className=\"dropdown--list\">\r\n            <li className=\"dropdown--list__item\" onClick={chartModeHandler} data-mode=\"rating\">점수</li>\r\n            <li className=\"dropdown--list__item\" onClick={chartModeHandler} data-mode=\"ranking\">순위</li>\r\n          </ul>\r\n        </div>\r\n    )\r\n\r\n    useEffect(() => {\r\n        dbService.collection('user').doc(userDetailTarget.name).collection('game_record').get().then((querySnapshot) => {\r\n            querySnapshot.forEach((doc) => {\r\n                const userMatchObj = {\r\n                    date: doc.data().date,\r\n                    loserRatingAfter: doc.data().loserRatingAfter,\r\n                    losers: doc.data().losers,\r\n                    ratingChange: doc.data().ratingChange,\r\n                    winnerRatingAfter: doc.data().winnerRatingAfter,\r\n                    winners: doc.data().winners\r\n                }\r\n                setUserMatch(userMatch => [...userMatch, userMatchObj])\r\n            })\r\n        })\r\n    }, [userDetailTarget])\r\n\r\n    return (\r\n        <div className=\"detailContainer\">\r\n            <div className=\"top\">\r\n                <div className=\"top--left\">\r\n                    {info}\r\n                </div>\r\n                <div className=\"top--circleRate winningRate\">\r\n                    <UserDetailWinningRate userDetailTarget={userDetailTarget} />    \r\n                </div>\r\n                <div className=\"top--circleRate rankingRate\">\r\n                    <UserDetailRankingRate allUsersByTime={allUsersByTime} userDetailTarget={userDetailTarget} />\r\n                </div>\r\n            </div>\r\n            <div className=\"bottom\">\r\n                <div className=\"bottom--left\">\r\n                    {periodFilter}\r\n                    {chartFilter}\r\n                    <UserDetailChart chartMode={chartMode} period={period} allUsersByTime={allUsersByTime} userDetailTarget={userDetailTarget} userMatch={userMatch} />\r\n                </div>\r\n                <div className=\"bottom--right\">\r\n                    <UserDetailGame userMatch={userMatch} />\r\n                </div>\r\n            </div>\r\n            <FontAwesomeIcon icon={faTimes} className=\"close\" onClick={closeDetail}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UserDetail;","import React, { useEffect, useState } from 'react';\r\nimport UserDetail from './UserDetail';\r\n\r\nconst UserInfo = ({ allUsers }) => {\r\n  const allUsersByTime = [...allUsers];\r\n  allUsersByTime.sort(function(a, b){\r\n    if(a.time < b.time) return 1\r\n    else if(a.time > b.time) return -1\r\n    else return 0\r\n  })\r\n  const [mapList, setMapList] = useState([])\r\n  const [isDetailOn, setIsDetailOn] = useState(false)\r\n  const [filterName, setFilterName] = useState('')\r\n  const [userDetailTarget, setUserDetailTarget] = useState({}) // 상세 정보 보여 줄 타겟 정보\r\n\r\n  function showDetail(e) {\r\n    setUserDetailTarget(allUsersByTime.find(el => el.name === e.target.dataset.name))\r\n    setIsDetailOn(true)\r\n  }\r\n\r\n  const userInfo = mapList.map((user,index) => (\r\n    <div className=\"userInfo\" key={index}>\r\n      <div>\r\n        <img className=\"userImage\" src={user.attachmentUrl} onClick={showDetail} data-name={user.name} alt=\"profile--detail\"/>\r\n      </div>\r\n      <div className=\"userInfoRightSide\">\r\n        <div className=\"userInfoUpSide\">\r\n          <div>\r\n            <span className=\"studentName\">{user.name}</span>\r\n            <span className=\"userStatus\">{user.status}</span>\r\n          </div>\r\n          <div className=\"win_lose\">\r\n            <div className=\"department\">{user.game_win}승</div>\r\n            <div className=\"department\">{user.game_lose}패</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"userInfoBottomSide\">\r\n          <span className=\"rating\">레이팅: {user.rating}</span>\r\n          <span className=\"department\">{user.department}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ))\r\n\r\n  function onChangeAction(e) {\r\n    setFilterName(e.target.value)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(filterName) {\r\n      setMapList(allUsersByTime.filter(el => el.name === filterName))\r\n    } else {\r\n      setMapList(allUsersByTime.sort(function(a,b){\r\n        return a.time > b.time ? -1 : a.time < b.time ? 1: 0;\r\n      }))\r\n    }\r\n  }, [filterName])\r\n\r\n  return (\r\n    <>\r\n      <input type=\"text\" className=\"filter--info\" placeholder=\"text name...\" onChange={onChangeAction} />\r\n      <div className=\"usersInformation\">\r\n        <div className=\"userList\">\r\n          {userInfo}\r\n        </div>\r\n        {isDetailOn && <UserDetail setIsDetailOn={setIsDetailOn} allUsersByTime={allUsersByTime} userDetailTarget={userDetailTarget} />}\r\n      </div>\r\n    </>\r\n  )\r\n};\r\n\r\nexport default UserInfo;","import React, { useState } from 'react';\r\nimport Post from '../component/client/Post';\r\nimport RankingContent from '../component/client/RankingContent';\r\nimport RecentGame from '../component/client/RecentGame';\r\nimport UserInfo from '../component/client/UserInfo';\r\nimport '../css/client.css';\r\nimport '../css/client_mugil.css';\r\n\r\nconst ClientMain = ({userObj, allUsers, allGame}) => {\r\n  const [contentMode, setContentMode] = useState(\"재학생랭킹\");\r\n\r\n  const listOnClicked = e => {\r\n    e.preventDefault();\r\n    setContentMode(e.target.id)\r\n  }\r\n  \r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"client-container\">\r\n        <div className=\"nav\">\r\n              <ul>\r\n                <li id=\"재학생랭킹\" onClick={listOnClicked}>재학생 랭킹</li>\r\n                <li id=\"전체랭킹\" onClick={listOnClicked}>전체 랭킹</li>\r\n                <li id=\"선수상세정보\" onClick={listOnClicked}>선수 상세정보</li>\r\n                <li id=\"게시글\" onClick={listOnClicked}>게시글</li>\r\n              </ul>\r\n              {/* 로그인 기능 추가 시 */}\r\n              {/* {userObj &&\r\n                  <div className=\"signedUser\">\r\n                  <img className=\"signedUser--img\" src={userObj.photoURL} alt=\"\"></img>\r\n                  <div className=\"signedUser--txt\">\r\n                      <p className=\"signedUser__name\">{userObj.displayName}</p>\r\n                      <p className=\"signedUser__email\">{userObj.email}</p>\r\n                  </div>\r\n                  </div>\r\n              } */}\r\n              <footer>\r\n                  <p className=\"footer--top\">&copy; 2021, Built by</p>\r\n                  <p className=\"footer--bot\">gilmujjang & Hyeon-Gwang</p>\r\n              </footer>\r\n          </div>\r\n        <div className=\"ClientMain\">\r\n          {[\"재학생랭킹\",\"전체랭킹\"].includes(contentMode) && <RankingContent allGame={allGame} allUsers={allUsers} contentMode={contentMode} setContentMode={setContentMode}/>}\r\n          {contentMode===\"선수상세정보\" && <UserInfo allUsers={allUsers} />}\r\n          {contentMode===\"게시글\" && <Post userObj={userObj}/>}\r\n        </div>\r\n        {\r\n        !['선수상세정보', '게시글'].includes(contentMode) &&\r\n        <div className=\"aside\">\r\n          <div className=\"aside1\">\r\n            <RecentGame allGame={allGame}/>\r\n          </div>\r\n          <div className=\"aside2\">\r\n            <h2>aside2</h2>\r\n          </div>\r\n        </div>\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClientMain;\r\n","import {HashRouter as Router, Route, Switch} from \"react-router-dom\";\r\nimport Auth from '../router/Auth';\r\nimport AdminMain from '../router/AdminMain';\r\nimport ClientMain from '../router/ClientMain';\r\nimport {React, useEffect, useState } from 'react';\r\nimport { dbService } from '../fbase'\r\n\r\n\r\n\r\nconst AppRouter = ({ userObj }) => {\r\n  const [allUsers, setAllUsers] = useState([]);\r\n  const [allGame, setAllGame] = useState([]);\r\n  useEffect(() => {\r\n    dbService.collection(\"user\").orderBy(\"rating\",\"desc\").get().then(snapshot => {\r\n      snapshot.docs.map(doc => {\r\n        const userObject = {\r\n          name:doc.data().name,\r\n          rating:doc.data().rating,\r\n          start_rating: doc.data().start_rating,\r\n          game_all:doc.data().game_all,\r\n          game_win:doc.data().game_win,\r\n          game_lose:doc.data().game_lose,\r\n          studentid:doc.data().studentid,\r\n          department:doc.data().department,\r\n          status: doc.data().status,\r\n          time:doc.data().time,\r\n          attachmentUrl:doc.data().attachmentUrl\r\n        }\r\n        setAllUsers(allUsers => [...allUsers, userObject]);\r\n      })\r\n    })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    dbService.collection(\"game\").orderBy(\"write_time\",\"desc\").limit(10).get().then(snapshot => {\r\n      snapshot.docs.map(doc => {\r\n        const gameObject = {\r\n          winners: doc.data().winners,\r\n          losers: doc.data().losers,\r\n          ratingChange: doc.data().ratingChange,\r\n          percentage: doc.data().percentage,\r\n          date: doc.data().date,\r\n          time: doc.data().write_time,\r\n          id: doc.data().date+'-'+doc.data().write_time,\r\n          winnerRatingAfter: doc.data().winnerRatingAfter,\r\n          loserRatingAfter: doc.data().loserRatingAfter\r\n        }\r\n        setAllGame(allGame => [...allGame, gameObject]);\r\n      })\r\n    })\r\n  }, [])\r\n  return(\r\n    <Router>\r\n      <Route exact path = \"/\">\r\n        <ClientMain allUsers={allUsers} allGame={allGame} userObj={userObj}/>\r\n      </Route>\r\n      <Switch>\r\n        {userObj.displayName ? (\r\n        <Route path=\"/admin\">\r\n          <AdminMain userObj={userObj}  allUsers={allUsers} allGame={allGame}/>\r\n        </Route>\r\n         ) : (\r\n          <Route exact path = \"/admin\">\r\n            <Auth/>\r\n          </Route>\r\n         )}\r\n      </Switch>\r\n    </Router>\r\n  )\r\n}\r\n\r\nexport default AppRouter;","import './style.css';\r\nimport React, { useState, useEffect } from \"react\";\r\nimport AppRouter from \"./component/Router\";\r\nimport { authService } from \"./fbase\";\r\n\r\nfunction App() {\r\n  const user = authService.currentUser;\r\n  const [init, setInit] = useState(false);\r\n  const [userObj, setUserObj] = useState({displayName: null});\r\n  useEffect( () => {\r\n    authService.onAuthStateChanged((user) => {\r\n      if(user) {\r\n        setUserObj({\r\n          displayName: user.displayName,\r\n          uid: user.uid,\r\n          photoUrl: user.photoURL,\r\n        });\r\n      } else {\r\n        authService.signInAnonymously()\r\n        .catch((error) => {\r\n          console.log(error.code)\r\n          console.log(error.message)\r\n        })\r\n      }\r\n      setInit(true);\r\n    });\r\n  }, [])\r\n\r\n\r\n  const refreshUser = () => {\r\n    setUserObj(authService.currentUser);\r\n    setUserObj({\r\n      displayName: user.displayName,\r\n      uid: user.uid,\r\n      updateProfile: (args) => user.updateProfile(args),\r\n    });\r\n  }\r\n  return (\r\n    <>\r\n      {init ? (\r\n        <AppRouter \r\n          refreshUser = {refreshUser}\r\n          isLoggedIn={Boolean(userObj)} \r\n          userObj={userObj}\r\n        />\r\n        ):(\r\n          \"Initailizing...\")}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './style.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}