(this.webpackJsonpkotc_ranking=this.webpackJsonpkotc_ranking||[]).push([[0],{206:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),s=a(31),r=a.n(s),i=a(35),l=(a(104),a(62),a(10)),d=a(14),j=a(24),o=a.n(j),u=a(28),b=a(19);a(106),a(56),a(211);b.a.initializeApp({apiKey:"AIzaSyBHxC9KHBIJunwnJgf9w2-I38y66-SbMJ8",authDomain:"ranking-e77e3.firebaseapp.com",databaseURL:"https://ranking-e77e3.firebaseio.com",projectId:"ranking-e77e3",storageBucket:"ranking-e77e3.appspot.com",messagingSenderId:"198460170843",appId:"1:198460170843:web:bb151c4e352fb386ff957e",measurementId:"G-EZ9XRH78P4"});b.a;var m=b.a.auth(),O=b.a.firestore(),h=b.a.storage(),g=a(94),x=a(95),f=a(1),p=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),r=Object(l.a)(s,2),i=r[0],d=r[1],j=Object(n.useState)(""),b=Object(l.a)(j,2),O=b[0],h=b[1],p=Object(n.useState)(!0),v=Object(l.a)(p,2),N=(v[0],v[1],function(e){var t=e.target,a=t.name,n=t.value;"email"===a?c(n):"password"===a&&d(n)}),w=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,m.signInWithEmailAndPassword(a,i);case 4:e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),h(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"authContainer",children:[Object(f.jsx)(g.a,{icon:x.a,color:"#04AAFF",size:"3x",style:{marginBottom:30}}),Object(f.jsxs)("form",{onSubmit:w,className:"container",children:[Object(f.jsx)("input",{name:"email",type:"email",placeholder:"Email",required:!0,value:a,onChange:N,className:"authInput"}),Object(f.jsx)("input",{name:"password",type:"password",placeholder:"Password",required:!0,value:i,onChange:N,className:"authInput"}),Object(f.jsx)("input",{className:"authInput authSubmit",type:"submit",value:"Log In"}),O&&Object(f.jsx)("span",{className:"authError",children:O})]})]})},v=a(30),N=function(){var e=Object(d.f)();return Object(f.jsxs)("div",{className:"header",children:[Object(f.jsx)("span",{className:"headerText",children:"KOTC \ub7ad\ud0b9\uc2dc\uc2a4\ud15c \uad00\ub9ac\uc790 \ud398\uc774\uc9c0"}),Object(f.jsx)("i",{class:"fas fa-sign-out-alt fa-2x logout needMargin",onClick:function(){m.signOut(),e.push("/")}})]})},w=a(42),_=a(21),k=a(212),S=a(213),y=a(214),C=function(){var e=Object(n.useState)({name:"",studentid:"",department:"",start_rating:"",rating:"",status:"\uc7ac\ud559"}),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),r=Object(l.a)(s,2),i=r[0],d=r[1],j=a.name,b=a.studentid,m=a.department,g=a.start_rating,x=a.status,p=function(e){var t=e.target,n=t.value,s=t.name;c(Object(_.a)(Object(_.a)({},a),{},Object(w.a)({},s,n)))},v=function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,s,r,l,u,f,p,v,N,w,_;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==j){e.next=4;break}return alert("\uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694"),e.abrupt("return");case 4:if(""!==b){e.next=7;break}return alert("\ud559\ubc88\uc744 \uc785\ub825\ud558\uc138\uc694"),e.abrupt("return");case 7:if(""!==m){e.next=10;break}return alert("\ud559\uacfc\ub97c \uc785\ub825\ud558\uc138\uc694"),e.abrupt("return");case 10:if(""!==g){e.next=13;break}return alert("\ucd08\uae30 \ub808\uc774\ud305\uc744 \uc785\ub825\ud558\uc138\uc694"),e.abrupt("return");case 13:if(""!==x){e.next=16;break}return alert("\uc7ac\ud559\uc0c1\ud0dc\ub97c \uc785\ub825\ud558\uc138\uc694"),e.abrupt("return");case 16:if(a="",""===i){e.next=25;break}return n=h.ref().child(j),e.next=21,n.putString(i,"data_url");case 21:return s=e.sent,e.next=24,s.ref.getDownloadURL();case 24:a=e.sent;case 25:return r=new Date,l=r.getFullYear(),(u=r.getMonth()+1)<10&&(u="0"+u),(f=r.getDate())<10&&(f="0"+f),(p=r.getHours())<10&&(p="0"+p),(v=r.getMinutes())<10&&(v="0"+v),(N=r.getSeconds())<10&&(N="0"+N),w=l+""+u+f+p+v+N,_={name:j,studentid:parseInt(b),department:m,start_rating:parseInt(g),rating:parseInt(g),status:x,time:w,attachmentUrl:a,game_all:0,game_win:0,game_lose:0},e.next=41,O.collection("user").doc(j).set(_);case 41:d(""),c({name:"",studentid:"",department:"",start_rating:"",rating:"",status:"\uc7ac\ud559"});case 43:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=Object(f.jsx)("div",{className:"userMaker",children:Object(f.jsxs)(k.a,{className:"noteWriter",children:[Object(f.jsxs)("div",{className:"userProfileImage",children:[Object(f.jsx)("span",{children:"\ud504\uc0ac"}),Object(f.jsx)(S.a,{type:"file",name:"file",id:"exampleFile",onChange:function(e){var t=e.target.files[0],a=new FileReader;a.onloadend=function(e){var t=e.currentTarget.result;d(t)},a.readAsDataURL(t)}})]}),i&&Object(f.jsxs)("div",{className:"factoryForm__attachment",children:[Object(f.jsx)("img",{className:"profileImg",src:i,alt:"profile image"}),Object(f.jsx)("div",{className:"factoryForm__clear",onClick:function(){return d("")},children:Object(f.jsx)("span",{children:"Remove"})})]}),Object(f.jsxs)("div",{className:"needMargin",children:[Object(f.jsx)("span",{children:"\uc774\ub984"}),Object(f.jsx)(S.a,{type:"text",name:"name",onChange:p,value:j})]}),Object(f.jsxs)("div",{className:"needMargin",children:[Object(f.jsx)("span",{children:"\ud559\ubc88"}),Object(f.jsx)(S.a,{type:"text",name:"studentid",onChange:p,value:b})]}),Object(f.jsxs)("div",{className:"needMargin",children:[Object(f.jsx)("span",{children:"\ud559\uacfc"}),Object(f.jsx)(S.a,{type:"text",name:"department",onChange:p,value:m})]}),Object(f.jsxs)("div",{className:"needMargin",children:[Object(f.jsx)("span",{children:"\ucd08\uae30\ub808\uc774\ud305"}),Object(f.jsx)(S.a,{type:"text",name:"start_rating",onChange:p,value:g})]}),Object(f.jsxs)("div",{className:"needMargin",children:[Object(f.jsx)("span",{children:"\uc0c1\ud0dc"}),Object(f.jsxs)(S.a,{type:"select",name:"status",onChange:p,value:x,children:[Object(f.jsx)("option",{children:"\uc7ac\ud559"}),Object(f.jsx)("option",{children:"\uc878\uc5c5"})]})]}),Object(f.jsx)(y.a,{className:"needMargin",onClick:v,children:"\uc804\uc1a1"})]})});return Object(f.jsx)("div",{className:"ShortBox",children:N})},I=(a(115),a(116),a(97)),M=a.n(I),U=function(e){var t=e.allUsers,a=b.a.firestore.FieldValue.increment(1),c=Object(n.useState)(""),s=Object(l.a)(c,2),r=s[0],i=s[1],d=Object(n.useState)([]),j=Object(l.a)(d,2),m=j[0],h=j[1],g=Object(n.useState)(""),x=Object(l.a)(g,2),p=x[0],N=x[1],w=Object(n.useState)([]),_=Object(l.a)(w,2),C=_[0],I=_[1],U=Object(n.useState)(""),P=Object(l.a)(U,2),B=P[0],F=P[1],E=Object(n.useState)([]),D=Object(l.a)(E,2),R=D[0],A=D[1],L=Object(n.useState)([]),H=Object(l.a)(L,2),V=H[0],G=H[1],W=Object(n.useState)(new Date),J=Object(l.a)(W,2),K=J[0],z=J[1],T=Object(n.useState)([]),Y=Object(l.a)(T,2),q=Y[0],X=Y[1];Object(n.useEffect)((function(){t.map((function(e){X((function(t){return[].concat(Object(v.a)(t),[e.name])}))}))}),[t]);var Z=function(e){if("Enter"===e.key){if(e.preventDefault(),R.length>=2)return alert("2\uba85\uc774\ud558\ub9cc"),void i("");if(q.includes(r)){if(B.includes(r))return alert("\uc774\ubbf8 \ub4f1\ub85d\ub41c \uc720\uc800\uc785\ub2c8\ub2e4"),void i("");A(R.concat(r)),F(B.concat(r)),O.collection("user").where("name","==",r).get().then((function(e){e.forEach((function(e){h(m.concat(e.data().rating))}))})),i("")}else Number.isInteger(parseInt(r))?(A(R.concat(r)),i(""),h(m.concat(Number(r)))):(alert("\ub4f1\ub85d\ub41c \uc720\uc800\uac00 \uc544\ub2d9\ub2c8\ub2e4"),i(""))}else i(e.target.value)},Q=function(e){if("Enter"===e.key){if(e.preventDefault(),V.length>=2)return alert("2\uba85\uc774\ud558\ub9cc"),void N("");if(q.includes(p)){if(B.includes(p))return alert("\uc774\ubbf8 \ub4f1\ub85d\ub41c \uc720\uc800\uc785\ub2c8\ub2e4"),void N("");F(B.concat(p)),G(V.concat(p)),O.collection("user").where("name","==",p).get().then((function(e){e.forEach((function(e){I(C.concat(e.data().rating))}))})),N("")}else Number.isInteger(parseInt(p))?(G(V.concat(p)),N(""),I(C.concat(Number(p)))):(alert("\ub4f1\ub85d\ub41c \uc720\uc800\uac00 \uc544\ub2d9\ub2c8\ub2e4"),N(""))}else N(e.target.value)},$=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c,s,r,l,d,j,u,b,g,x,f,p,v,w,_,k;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=m[0],c=C[0],2==m.length&&(n=(Math.max(m[0],m[1])+2*Math.min(m[0],m[1]))/3),2==C.length&&(c=(Math.max(C[0],C[1])+2*Math.min(C[0],C[1]))/3),s=(1/(1+Math.pow(10,(c-n)/400))).toFixed(2),r=(1-s).toFixed(2),l=Math.round(32*r),0!==R.length){e.next=11;break}return alert("\uc2b9\uc790\ub97c \uc785\ub825\ud558\uc138\uc694"),e.abrupt("return");case 11:if(0!==V.length){e.next=14;break}return alert("\ud328\uc790\ub97c \uc785\ub825\ud558\uc138\uc694"),e.abrupt("return");case 14:if(R.length===V.length){e.next=17;break}return alert("\uc778\uc6d0\uc744 \ub9de\ucd94\uc2dc\uc624"),e.abrupt("return");case 17:if(d=new Date,j=d.getFullYear(),(u=d.getMonth()+1)<10&&(u="0"+u),(b=d.getDate())<10&&(b="0"+b),(g=d.getHours())<10&&(g="0"+g),(x=d.getMinutes())<10&&(x="0"+x),(f=d.getSeconds())<10&&(f="0"+f),p=j+""+u+b+g+x+f,j=K.getFullYear(),(u=K.getMonth()+1)<10&&(u="0"+u),(b=K.getDate())<10&&(b="0"+b),v=j+""+u+b,w=m.map((function(e){return e+l})),_=C.map((function(e){return e-l})),k={winners:R,winnerRatingBefore:m,winnerRatingAfter:w,losers:V,loserRatingBefore:C,loserRatingAfter:_,percentage:Math.round(100*s),ratingChange:l,date:v,write_time:p},NaN!=s){e.next=42;break}return alert("percentage is never NaN"),e.abrupt("return");case 42:return e.next=44,O.collection("game").doc(v+"-"+p).set(k);case 44:return e.next=46,R.map((function(e){O.collection("user").doc(e).collection("game_record").doc(v+"-"+p).set(k),O.collection("user").doc(e).update({rating:m.shift()+l,game_all:a,game_win:a})}));case 46:return e.next=48,V.map((function(e){O.collection("user").doc(e).collection("game_record").doc(v+"-"+p).set(k),O.collection("user").doc(e).update({rating:C.shift()-l,game_all:a,game_lose:a})}));case 48:i(""),N(""),A([]),G([]),F([]),h([]),I([]);case 49:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=Object(f.jsx)("div",{className:"userMaker",children:Object(f.jsxs)(k.a,{className:"noteWriter",children:[Object(f.jsxs)("div",{className:"matchResult",children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("div",{children:"\uc2b9"}),Object(f.jsx)(S.a,{type:"text",name:"win",value:r,onChange:Z,onKeyPress:Z}),Object(f.jsx)("div",{className:"users playerView",children:R.map((function(e){return Object(f.jsx)("span",{className:"targetUser",children:e})}))})]}),Object(f.jsx)("span",{className:"versus",children:" VS "}),Object(f.jsxs)("span",{children:[Object(f.jsx)("div",{children:"\ud328"}),Object(f.jsx)(S.a,{type:"text",name:"lose",value:p,onChange:Q,onKeyPress:Q}),Object(f.jsx)("div",{className:"users",children:Object(f.jsx)("div",{className:"flexWrap",children:V.map((function(e){return Object(f.jsx)("span",{className:"targetUser",children:e})}))})})]})]}),Object(f.jsxs)("div",{className:"datepicker",children:[Object(f.jsx)("span",{className:"needMargin",children:"\uc2dc\ud569\uc77c"}),Object(f.jsx)(M.a,{selected:K,onChange:function(e){return z(e)}})]}),Object(f.jsx)(y.a,{className:"needMargin",onClick:$,children:"\uc804\uc1a1"})]})});return Object(f.jsx)("div",{className:"ShortBox",children:ee})},P=a(216),B=a(215),F=function(e){var t=e.allUsers.map((function(e){return Object(f.jsxs)(P.a,{children:[Object(f.jsx)(B.a,{children:Object(f.jsxs)("div",{className:"spaceBetween",children:[Object(f.jsxs)("div",{children:[e.name,"__"]}),Object(f.jsx)("div",{children:e.status})]})}),Object(f.jsxs)("div",{className:"needMargin spaceBetween",children:[Object(f.jsxs)("div",{children:["\ud559\ubc88 : ",e.studentid]}),Object(f.jsxs)("div",{children:["\ud559\uacfc : ",e.department]})]}),Object(f.jsxs)("div",{className:"needMargin spaceBetween",children:[Object(f.jsxs)("div",{children:["Rating : ",e.rating]}),Object(f.jsxs)("div",{children:["\uc804\uc801 : ",e.game_win,"\uc2b9 ",e.game_lose,"\ud328"]})]})]})}));return Object(f.jsx)("div",{className:"LongBox",children:t})},E=function(e){var t=e.allGame,a=function(){var e=Object(u.a)(o.a.mark((function e(a){var n,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],c=[],s=0,t.map((function(e){e.id==a.target.id&&(n=n.concat(e.winners),c=c.concat(e.losers),s=e.ratingChange)})),e.next=6,n.map((function(e){O.collection("user").doc(e).collection("game_record").doc(a.target.id).delete(),O.collection("user").doc(e).update({rating:b.a.firestore.FieldValue.increment(-s),game_all:b.a.firestore.FieldValue.increment(-1),game_win:b.a.firestore.FieldValue.increment(-1)})}));case 6:return e.next=8,c.map((function(e){O.collection("user").doc(e).collection("game_record").doc(a.target.id).delete(),O.collection("user").doc(e).update({rating:b.a.firestore.FieldValue.increment(s),game_all:b.a.firestore.FieldValue.increment(-1),game_lose:b.a.firestore.FieldValue.increment(-1)})}));case 8:return e.next=10,O.collection("game").doc(a.target.id).delete();case 10:alert(a.target.id+" \ub97c \uc0ad\uc81c\ud588\uc2b5\ub2c8\ub2e4");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=t.map((function(e){return Object(f.jsxs)("div",{className:"displayFlex",children:[Object(f.jsxs)(P.a,{children:[Object(f.jsxs)(B.a,{children:[e.winners.map((function(e){return Object(f.jsx)("span",{className:"targetUser",children:e})})),"vs",e.losers.map((function(e){return Object(f.jsx)("span",{className:"targetUser",children:e})}))]}),Object(f.jsxs)("div",{className:"needMargin flexWrap spaceBetween",children:[Object(f.jsxs)("div",{children:["\ub808\uc774\ud305\ubcc0\ud654 : ",e.ratingChange]}),Object(f.jsxs)("div",{children:["\uc2b9\ub960\uc608\uce21 : ",e.percentage,"%"]})]}),Object(f.jsxs)("div",{className:"needMargin flexWrap spaceBetween",children:["\ub4f1\ub85d\uc2dc\uac01 : ",e.time]})]}),Object(f.jsx)("i",{class:"far fa-trash-alt deleteIcon",id:e.date+"-"+e.time,onClick:a})]})}));return Object(f.jsxs)("div",{className:"LongBox",children:[Object(f.jsxs)("div",{className:"gameListHeader",children:[Object(f.jsx)("span",{children:"\uc2b9\ub9ac\ud300"}),Object(f.jsx)("span",{children:"\ud328\ubc30\ud300"})]}),Object(f.jsx)("div",{children:n})]})},D=(a(206),function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),r=Object(l.a)(s,2),i=r[0],d=r[1];return Object(n.useEffect)((function(){O.collection("user").orderBy("time","desc").get().then((function(e){e.docs.map((function(e){var t={name:e.data().name,rating:e.data().rating,game_all:e.data().game_all,game_win:e.data().game_win,game_lose:e.data().game_lose,studentid:e.data().studentid,department:e.data().department,status:e.data().status,time:e.data().time};c((function(e){return[].concat(Object(v.a)(e),[t])}))}))}))}),[]),Object(n.useEffect)((function(){O.collection("game").orderBy("write_time","desc").limit(10).get().then((function(e){e.docs.map((function(e){var t={winners:e.data().winners,losers:e.data().losers,ratingChange:e.data().ratingChange,percentage:e.data().percentage,date:e.data().date,time:e.data().write_time,id:e.data().date+"-"+e.data().write_time};d((function(e){return[].concat(Object(v.a)(e),[t])}))}))}))}),[]),Object(f.jsxs)("div",{className:"AdminMain",children:[Object(f.jsx)(N,{}),Object(f.jsxs)("div",{className:"Content",children:[Object(f.jsx)(C,{}),Object(f.jsx)(U,{allUsers:a}),Object(f.jsx)(F,{allUsers:a}),Object(f.jsx)(E,{allGame:i})]})]})}),R=function(e){e.allUsers,e.allGame,e.contentMode;return Object(f.jsx)("div",{className:"rankingContainer",children:"PostPostPostPostPostPostPostPostPostPostPostPostPostPostPostPostPostPostv"})},A=function(e){var t=e.allUsers,a=(e.allGame,e.contentMode),c=Object(n.useState)({end:9}),s=Object(l.a)(c,2),r=s[0],i=s[1],d=t.filter((function(e){return"\uc7ac\ud559"===e.status})),j=t.filter((function(e){return 16==e.studentid})),o=Object(n.useState)([]),u=Object(l.a)(o,2),b=u[0],m=u[1];Object(n.useEffect)((function(){"\uc7ac\ud559\uc0dd\ub7ad\ud0b9"===a?(m(d.slice(0,r.end)),console.log(d)):"\uc804\uccb4\ub7ad\ud0b9"===a?m(t):"\ud559\ubc88\ubcc4\ub7ad\ud0b9"===a&&m(j)}),[a,t,r]);var O=Object(n.useRef)(),h=b.map((function(e,t){return Object(f.jsxs)("div",{className:"ranking",children:[Object(f.jsx)("p",{className:"item--left grade",children:t+1}),Object(f.jsx)("div",{className:"item--img",children:e.attachmentUrl?Object(f.jsx)("img",{src:e.attachmentUrl,alt:"profile-img"}):Object(f.jsx)("img",{src:"https://d2u3dcdbebyaiu.cloudfront.net/uploads/atch_img/68/d768b6caa2c0d23507bc12087bf171a8.jpeg",alt:"profile-img"})}),Object(f.jsxs)("div",{className:"item--right",children:[Object(f.jsx)("span",{className:"rating",children:e.rating}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:"studentName",children:e.name}),Object(f.jsx)("span",{className:"studentId",children:e.studentid}),Object(f.jsx)("span",{className:"department",children:e.department})]})]})]},t)}));return Object(f.jsx)("div",{className:"rankingContainer",ref:O,onScroll:function(e){var t=e.target;if(t.scrollTop+t.clientHeight>=t.scrollHeight)switch(d.length-r.end){case 0:break;case 1:i((function(e){return Object(_.a)(Object(_.a)({},e),{},{end:e.end+1})}));break;case 2:i((function(e){return Object(_.a)(Object(_.a)({},e),{},{end:e.end+2})}));break;case 3:i((function(e){return Object(_.a)(Object(_.a)({},e),{},{end:e.end+3})}));break;case 4:i((function(e){return Object(_.a)(Object(_.a)({},e),{},{end:e.end+4})}));break;default:i((function(e){return Object(_.a)(Object(_.a)({},e),{},{end:e.end+5})}))}},children:h})},L=function(e){var t=e.allUsers,a=(e.allGame,e.contentMode,t);a.sort((function(e,t){return e.time>t.time?-1:e.time<t.time?1:0}));var n=a.map((function(e,t){return Object(f.jsxs)("div",{className:"userInfo",children:[Object(f.jsx)("div",{className:"userProfile",children:e.attachmentUrl?Object(f.jsx)("img",{className:"userImage",src:e.attachmentUrl}):Object(f.jsx)("img",{className:"userImage",src:"https://d2u3dcdbebyaiu.cloudfront.net/uploads/atch_img/68/d768b6caa2c0d23507bc12087bf171a8.jpeg"})}),Object(f.jsxs)("div",{className:"userInfoRightSide",children:[Object(f.jsxs)("div",{className:"userInfoUpSide",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:"studentName",children:e.name}),Object(f.jsx)("span",{children:" . . . "}),Object(f.jsx)("span",{className:"userStatus",children:e.status})]}),Object(f.jsxs)("div",{className:"win_lose",children:[Object(f.jsxs)("div",{className:"department",children:[e.game_win,"\uc2b9"]}),Object(f.jsxs)("div",{className:"department",children:[e.game_lose,"\ud328"]})]})]}),Object(f.jsxs)("div",{className:"userInfoBottomSide",children:[Object(f.jsxs)("span",{className:"rating",children:["\ub808\uc774\ud305: ",e.rating]}),Object(f.jsx)("span",{className:"studentId",children:e.studentId}),Object(f.jsx)("span",{className:"department",children:e.department})]})]})]},t)}));return Object(f.jsx)("div",{className:"usersInformation",children:n})},H=(a(207),a(208),function(e){var t=e.userObj,a=Object(n.useState)([]),c=Object(l.a)(a,2),s=c[0],r=c[1],i=Object(n.useState)([]),d=Object(l.a)(i,2),j=d[0],o=d[1],u=Object(n.useState)("\uc7ac\ud559\uc0dd\ub7ad\ud0b9"),b=Object(l.a)(u,2),m=b[0],h=b[1];Object(n.useEffect)((function(){O.collection("user").orderBy("rating","desc").get().then((function(e){e.docs.map((function(e){var t={name:e.data().name,rating:e.data().rating,game_all:e.data().game_all,game_win:e.data().game_win,game_lose:e.data().game_lose,studentid:e.data().studentid,department:e.data().department,status:e.data().status,time:e.data().time,attachmentUrl:e.data().attachmentUrl};r((function(e){return[].concat(Object(v.a)(e),[t])}))}))}))}),[]),Object(n.useEffect)((function(){O.collection("game").orderBy("write_time","desc").limit(10).get().then((function(e){e.docs.map((function(e){var t={winners:e.data().winners,losers:e.data().losers,ratingChange:e.data().ratingChange,percentage:e.data().percentage,date:e.data().date,time:e.data().write_time,id:e.data().date+"-"+e.data().write_time};o((function(e){return[].concat(Object(v.a)(e),[t])}))}))}))}),[]);var g=function(e){e.preventDefault(),h(e.target.id)};return Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)("div",{className:"client-container",children:[Object(f.jsxs)("div",{id:"nav",children:[Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:Object(f.jsx)("a",{id:"\uc7ac\ud559\uc0dd\ub7ad\ud0b9",onClick:g,children:"\uc7ac\ud559\uc0dd \ub7ad\ud0b9"})}),Object(f.jsx)("li",{children:Object(f.jsx)("a",{id:"\uc804\uccb4\ub7ad\ud0b9",onClick:g,children:"\uc804\uccb4 \ub7ad\ud0b9"})}),Object(f.jsx)("li",{children:Object(f.jsx)("a",{id:"\ud559\ubc88\ubcc4\ub7ad\ud0b9",onClick:g,children:"\ud559\ubc88\ubcc4 \ub7ad\ud0b9"})}),Object(f.jsx)("li",{children:Object(f.jsx)("a",{id:"\uc120\uc218\uc0c1\uc138\uc815\ubcf4",onClick:g,children:"\uc120\uc218 \uc0c1\uc138\uc815\ubcf4"})}),Object(f.jsx)("li",{children:Object(f.jsx)("a",{id:"\uac8c\uc2dc\uae00",onClick:g,children:"\uac8c\uc2dc\uae00"})})]}),t&&Object(f.jsxs)("div",{className:"signedUser",children:[Object(f.jsx)("img",{className:"signedUser--img",src:t.photoURL,alt:""}),Object(f.jsxs)("div",{className:"signedUser--txt",children:[Object(f.jsx)("p",{className:"signedUser__name",children:t.displayName}),Object(f.jsx)("p",{className:"signedUser__email",children:t.email})]})]}),Object(f.jsxs)("footer",{children:[Object(f.jsx)("p",{className:"footer--top",children:"\xa9 2021, Built by"}),Object(f.jsx)("p",{className:"footer--bot",children:"gilmujjang & Hyeon-Gwang"})]})]}),Object(f.jsxs)("div",{className:"ClientMain",children:[["\uc7ac\ud559\uc0dd\ub7ad\ud0b9","\uc804\uccb4\ub7ad\ud0b9","\ud559\ubc88\ubcc4\ub7ad\ud0b9"].includes(m)&&Object(f.jsx)(A,{allGame:j,allUsers:s,contentMode:m}),"\uc120\uc218\uc0c1\uc138\uc815\ubcf4"===m&&Object(f.jsx)(L,{allUsers:s}),"\uac8c\uc2dc\uae00"===m&&Object(f.jsx)(R,{allUsers:s})]}),Object(f.jsx)("div",{id:"aside1",children:Object(f.jsx)("h2",{children:"aside1"})}),Object(f.jsx)("div",{id:"aside2",children:Object(f.jsx)("h2",{children:"aside2"})})]})})}),V=function(e){var t=e.isLoggedIn,a=e.userObj;return Object(f.jsxs)(i.b,{children:[t,Object(f.jsx)(d.c,{children:t?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(d.a,{exact:!0,path:"/",children:Object(f.jsx)(H,{userObj:a})}),Object(f.jsx)(d.a,{path:"/admin",children:Object(f.jsx)(D,{userObj:a})})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(d.a,{exact:!0,path:"/",children:Object(f.jsx)(H,{})}),Object(f.jsx)(d.a,{exact:!0,path:"/admin",children:Object(f.jsx)(p,{})})]})})]})};var G=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(null),r=Object(l.a)(s,2),i=r[0],d=r[1];Object(n.useEffect)((function(){m.onAuthStateChanged((function(e){d(e?{displayName:e.displayName,uid:e.uid,updateProfile:function(t){return e.updateProfile(t)}}:null),c(!0)}))}),[]);var j=m.currentUser;return Object(f.jsx)(f.Fragment,{children:a?Object(f.jsx)(V,{refreshUser:function(){d(m.currentUser),d({displayName:j.displayName,uid:j.uid,updateProfile:function(e){return j.updateProfile(e)}})},isLoggedIn:Boolean(i),userObj:i}):"Initailizing..."})};r.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(i.a,{children:Object(f.jsx)(G,{})})}),document.getElementById("root"))},62:function(e,t,a){}},[[209,1,2]]]);
//# sourceMappingURL=main.732cb635.chunk.js.map